import{w as nr,t as V,i as X,f as ve,x as Xt,m as De,d as Oe,e as Mt,q as Yt,c as ne,a as Yr,j as wt,b as W,A as ar,k as or,C as He,B as sr,S as _t,D as Ri,E as Pi,s as jt,l as Ar,n as jr,o as qr,I as Ui,u as Ni,G as ft,H as Er,J as Li,K as $i,L as Fi,M as Hi,N as Bi,O as $t,h as Ft,P as Ht,Q as zi,g as Wi,R as Xi}from"./index-DbMwMWgQ.js";import{H as Yi,C as At}from"./Card-CrE8XlUU.js";var ji=V("<div class=space-y-2>"),qi=V('<label class="block text-sm font-medium text-gray-700 dark:text-gray-300">'),Vi=V('<span class="text-red-500 ml-1">*'),Qi=V("<textarea>"),Gi=V("<div><input>"),Zi=V('<div class="text-gray-400 mr-2">'),Ki=V('<p class="text-sm text-red-500">');const Ji=n=>{const[t,a]=nr(n,["class","type","label","icon","textarea","rows","error","value","onInput","onChange","required"]);return(()=>{var e=ji();return X(e,(()=>{var i=ve(()=>!!t.label);return()=>i()&&(()=>{var r=qi();return X(r,()=>t.label,null),X(r,(()=>{var l=ve(()=>!!t.required);return()=>l()&&Vi()})(),null),r})()})(),null),X(e,(()=>{var i=ve(()=>!!t.textarea);return()=>i()?(()=>{var r=Qi();return Xt(r,De({get value(){return t.value||""},get rows(){return t.rows||3},get class(){return`w-full border border-gray-300 dark:border-gray-600 rounded-md px-3 py-2 focus:outline-none focus:ring-1 focus:border-blue-500 dark:focus:border-blue-400 focus:ring-blue-500 dark:focus:ring-blue-400 bg-transparent dark:bg-gray-700 dark:text-gray-200 resize-none ${t.class||""} ${t.error?"border-red-500":""}`},get onInput(){return t.onInput},get onChange(){return t.onChange},get required(){return t.required}},a),!1,!1),r})():(()=>{var r=Gi(),l=r.firstChild;return X(r,(()=>{var h=ve(()=>!!t.icon);return()=>h()&&(()=>{var f=Zi();return X(f,()=>t.icon),f})()})(),l),Xt(l,De({get type(){return t.type||"text"},get value(){return t.value||""},get class(){return`flex-1 border-none focus:outline-none bg-transparent dark:bg-gray-700 dark:text-gray-200 ${t.class||""}`},get onInput(){return t.onInput},get onChange(){return t.onChange},get required(){return t.required}},a),!1,!1),Oe(()=>Mt(r,`flex items-center border border-gray-300 dark:border-gray-600 rounded-md px-3 py-2 focus-within:ring-1 focus-within:border-blue-500 dark:focus-within:border-blue-400 focus-within:ring-blue-500 dark:focus-within:ring-blue-400 dark:bg-gray-700 ${t.error?"border-red-500":""}`)),r})()})(),null),X(e,(()=>{var i=ve(()=>!!t.error);return()=>i()&&(()=>{var r=Ki();return X(r,()=>t.error),r})()})(),null),e})()};var en=V("<form>"),tn=V("<button type=submit>");const Dr=n=>{const[t,a]=Yt(n.initialData||{}),[e,i]=Yt({}),[r,l]=ne(n.loading||!1),{isDarkMode:h}=Yr();wt(()=>{l(n.loading||!1)});const f=(o,s)=>{a(o,s),e[o]&&i(o,void 0),n.onInput&&n.onInput(o,s)},p=async o=>{if(o.preventDefault(),n.validate){const s=n.validate(t);if(i(s),Object.keys(s).length>0)return}if(n.onSubmit){l(!0);try{await n.onSubmit({...t})}finally{n.loading||l(!1)}}};return n.onFormMount&&n.onFormMount({formData:t,setFormData:a,errors:e,setErrors:i}),(()=>{var o=en();return o.addEventListener("submit",p),X(o,()=>n.fields?.map(s=>W(Ji,{get key(){return s.name},get label(){return s.label},get type(){return s.type||"text"},get icon(){return s.icon},get textarea(){return s.textarea},get rows(){return s.rows},get placeholder(){return s.placeholder},get value(){return t[s.name]||""},onInput:c=>f(s.name,c.target.value),get error(){return e[s.name]},get required(){return s.required}})),null),X(o,()=>n.children,null),X(o,(()=>{var s=ve(()=>n.submitButton!==!1);return()=>s()&&(()=>{var c=tn();return X(c,()=>r()?n.loadingText:n.submitText),Oe(u=>{var w=n.submitButtonClass||"bg-primary-500 hover:bg-primary-400 dark:bg-primary-600 dark:hover:bg-primary-500 text-white py-2 px-4 rounded-md",C=r();return w!==u.e&&Mt(c,u.e=w),C!==u.t&&(c.disabled=u.t=C),u},{e:void 0,t:void 0}),c})()})(),null),Oe(()=>Mt(o,n.class||"space-y-4")),o})()};function st(n,t){let a={},e=Object.keys(n);for(let i=0,r=e.length;i<r;i+=1){let l=e[i];t.includes(l)||Object.defineProperty(a,l,{get(){return n[l]},configurable:!0,enumerable:!0})}return a}var Vr=ar();function lr(){let n=sr(Vr);if(n)return n;throw new Error("`useHeadlessDisclosureProperties` must be used within `<HeadlessDisclosureRoot>`.")}function rn(n){return typeof n=="function"&&n.length>0}function nn(n){let t=lr();return ve(()=>{let a=n.children;return rn(a)?a(t):a})}function yt(n){return{get children(){return W(nn,{get children(){return n.children}})}}}function an(n){let t,a;if("defaultOpen"in n){let[e,i]=ne(n.defaultOpen);t=e,a=r=>{Pi(()=>{var l;i(r),(l=n.onChange)==null||l.call(n,r)})}}else t=()=>n.isOpen,a=e=>{var i;return(i=n.onChange)==null?void 0:i.call(n,e)};return{isOpen(){return t()},setState(e){n.disabled||a(e)},disabled(){return!!n.disabled}}}function on(n){return typeof n=="function"&&n.length>0}function Qr(n){let t=an(n);return W(Vr.Provider,{value:t,get children(){return ve(()=>{let a=n.children;return on(a)?a(t):a})}})}function lt(n,t){return W(Ri,De({get component(){return n()}},t))}function sn(n){return typeof n=="function"}function cr(n,t){return a=>{"ref"in n&&sn(n.ref)&&n.ref(a),t(a)}}var ln='a[href], area[href], input:not([disabled]), select:not([disabled]), textarea:not([disabled]), button:not([disabled]), iframe, object, embed, [tabindex]:not([tabindex="-1"]), [contenteditable]';function Gr(n,t){let a=n.querySelectorAll(ln),e=[];for(let i=0,r=a.length;i<r;i+=1)e.push(a[i]);return e}function Zr(n){return!n.matches('[data-sh-disabled="true"]')}function Kr(n,t,a){let e=t+a;for(;e>=0&&e<n.length;){if(Zr(n[e]))return n[e];e+=a}}function Jr(n,t,a){let e=t+a;for(a===1&&e===n.length&&(e=0),a===-1&&e===-1&&(e=n.length-1);t!==e;){if(Zr(n[e]))return n[e];e+=a,a===1&&e>=n.length&&(e=0),a===-1&&e<0&&(e=n.length-1)}}function cn(n,t){var a;for(let e=0,i=n.length;e<i;e+=1)if(t===n[e]){(a=Jr(n,e,1))==null||a.focus();break}}function hn(n,t){var a;for(let e=0,i=n.length;e<i;e+=1)if(t===n[e]){(a=Jr(n,e,-1))==null||a.focus();break}}function ei(n){var t;return n.length?((t=Kr(n,-1,1))==null||t.focus(),!0):!1}function fn(n){var t;return n.length?((t=Kr(n,n.length,-1))==null||t.focus(),!0):!1}function un(n,t){let a=Gr(n);t?!document.activeElement||!n.contains(document.activeElement)?fn(a):hn(a,document.activeElement):!document.activeElement||!n.contains(document.activeElement)?ei(a):cn(a,document.activeElement)}var dn="data-sh";function Rt(n){return{[dn]:n}}function hr(n,t,a){return W(_t,{get when(){var e;return(e=n.unmount)!=null?e:!0},get fallback(){return a()},get children(){return W(_t,{get when(){return t()},get children(){return a()}})}})}function Cr(){var n,t;return(t=(n=window.getSelection())==null?void 0:n.focusNode)==null?void 0:t.parentElement}function gn(n){if(n){let t=n.getAttribute("tabindex");n.setAttribute("tabindex","-1"),n.focus(),n.blur(),t?n.setAttribute("tabindex",t):n.removeAttribute("tabindex")}}var pn=class{constructor(){typeof document<"u"&&(this.returnElement=document.activeElement,this.fsp=Cr()),or(()=>{this.load()})}load(){this.returnElement instanceof HTMLElement?this.returnElement.focus():gn(this.fsp)}save(){this.returnElement=document.activeElement,this.fsp=Cr()}};function ti(){return new pn}var fr=ar();function ur(n){let t=sr(fr);if(t)return t;throw new Error(`<${n}> must be used inside a <Dialog>`)}var ri=Rt("dialog"),vn=Rt("dialog-overlay"),mn=Rt("dialog-panel"),bn=Rt("dialog-title");function wn(n){let t=He(),a=He(),e=He(),i=He(),r=ti();return W(fr.Provider,{value:{ownerID:t,panelID:a,titleID:e,descriptionID:i},get children(){return W(Qr,{get isOpen(){return n.isOpen},get disabled(){return n.disabled},onChange(l){var h,f,p;l&&(r.save(),(h=n.onOpen)==null||h.call(n)),(f=n.onChange)==null||f.call(n,l),l||((p=n.onClose)==null||p.call(n),r.load())},children:({isOpen:l})=>hr(n,l,()=>lt(()=>{var h;return(h=n.as)!=null?h:"div"},De(st(n,["as","children","unmount","isOpen","disabled","onOpen","onClose","onChange"]),ri,{id:t,role:"dialog","aria-modal":!0,"aria-labelledby":e,"aria-describedby":i},yt(n))))})}})}function yn(n){let t=He(),a=He(),e=He(),i=He(),r=ti();return W(fr.Provider,{value:{ownerID:t,panelID:a,titleID:e,descriptionID:i},get children(){return W(Qr,{get defaultOpen(){return n.defaultOpen},get disabled(){return n.disabled},onChange(l){var h,f,p;l&&(r.save(),(h=n.onOpen)==null||h.call(n)),(f=n.onChange)==null||f.call(n,l),l||((p=n.onClose)==null||p.call(n),r.load())},children:({isOpen:l})=>hr(n,l,()=>lt(()=>{var h;return(h=n.as)!=null?h:"div"},De(st(n,["as","children","unmount","defaultOpen","disabled","onOpen","onClose","onChange"]),ri,{id:t,role:"dialog","aria-modal":!0,"aria-labelledby":e,"aria-describedby":i},yt(n))))})}})}function xn(n){return"defaultOpen"in n}function An(n){return xn(n)?W(yn,n):W(wn,n)}function En(n){ur("DialogOverlay");let t=lr(),[a,e]=ne();return wt(()=>{let i=a();if(i instanceof HTMLElement){let r=()=>{t.setState(!1)};i.addEventListener("click",r),or(()=>{i.removeEventListener("click",r)})}}),lt(()=>{var i;return(i=n.as)!=null?i:"div"},De(st(n,["as","children","ref"]),vn,{ref:cr(n,i=>{e(()=>i)})},yt(n)))}function Dn(n){let t=ur("DialogPanel"),a=lr(),[e,i]=ne();return wt(()=>{let r=e();if(r instanceof HTMLElement&&a.isOpen()){ei(Gr(r));let l=h=>{n.disabled||(h.key==="Tab"?(h.preventDefault(),un(r,h.shiftKey)):h.key==="Escape"&&a.setState(!1))};r.addEventListener("keydown",l),or(()=>{r.removeEventListener("keydown",l)})}}),lt(()=>{var r;return(r=n.as)!=null?r:"div"},De(st(n,["as","children","ref"]),mn,{id:t.panelID,ref:cr(n,r=>{i(()=>r)})},yt(n)))}function Cn(n){let t=ur("DialogTitle");return lt(()=>{var a;return(a=n.as)!=null?a:"h2"},De(st(n,["as","children"]),bn,{id:t.titleID},yt(n)))}var ii=ar();function Mn(n){let t=sr(ii);if(t)return t;throw new Error(`<${n}> must be used inside a <Transition>`)}function $e(n){return n?n.split(" "):[]}function Ve(n,t){let a=t.filter(e=>e);a.length&&n.classList.add(...a)}function Qe(n,t){let a=t.filter(e=>e);a.length&&n.classList.remove(...a)}function qt(n){let t=Mn("TransitionChild"),[a,e]=ne(t.show),[i,r]=ne(),l=!0;function h(f,p){var o,s;if(p){if(l){let c=$e(n.enter),u=$e(n.enterFrom),w=$e(n.enterTo),C=$e(n.entered),T=()=>{var A;Qe(f,c),Qe(f,w),Ve(f,C),(A=n.afterEnter)==null||A.call(n)};(o=n.beforeEnter)==null||o.call(n),Ve(f,c),Ve(f,u),requestAnimationFrame(()=>{Qe(f,u),Ve(f,w),f.addEventListener("transitionend",T,{once:!0}),f.addEventListener("animationend",T,{once:!0})})}}else{let c=$e(n.leave),u=$e(n.leaveFrom),w=$e(n.leaveTo),C=$e(n.entered);(s=n.beforeLeave)==null||s.call(n),Qe(f,C),Ve(f,c),Ve(f,u),requestAnimationFrame(()=>{Qe(f,u),Ve(f,w)});let T=()=>{var A;Qe(f,c),Qe(f,w),e(!1),(A=n.afterLeave)==null||A.call(n)};f.addEventListener("transitionend",T,{once:!0}),f.addEventListener("animationend",T,{once:!0})}}return wt(()=>{let f=t.show;f&&e(!0);let p=i();p instanceof HTMLElement?h(p,f):l=!0}),hr(n,a,()=>lt(()=>{var f;return(f=n.as)!=null?f:"div"},De(st(n,["as","enter","enterFrom","enterTo","leave","leaveFrom","leaveTo","unmount","afterEnter","afterLeave","appear","beforeEnter","beforeLeave","entered","ref"]),{ref:cr(n,f=>{r(()=>f)})})))}function _n(n){let[t,a]=nr(n,["show"]);return W(ii.Provider,{value:t,get children(){return W(qt,a)}})}/*!
 * Cropper.js v1.6.2
 * https://fengyuanchen.github.io/cropperjs
 *
 * Copyright 2015-present Chen Fengyuan
 * Released under the MIT license
 *
 * Date: 2024-04-21T07:43:05.335Z
 */function Mr(n,t){var a=Object.keys(n);if(Object.getOwnPropertySymbols){var e=Object.getOwnPropertySymbols(n);t&&(e=e.filter(function(i){return Object.getOwnPropertyDescriptor(n,i).enumerable})),a.push.apply(a,e)}return a}function ni(n){for(var t=1;t<arguments.length;t++){var a=arguments[t]!=null?arguments[t]:{};t%2?Mr(Object(a),!0).forEach(function(e){On(n,e,a[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(a)):Mr(Object(a)).forEach(function(e){Object.defineProperty(n,e,Object.getOwnPropertyDescriptor(a,e))})}return n}function Tn(n,t){if(typeof n!="object"||!n)return n;var a=n[Symbol.toPrimitive];if(a!==void 0){var e=a.call(n,t);if(typeof e!="object")return e;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(n)}function ai(n){var t=Tn(n,"string");return typeof t=="symbol"?t:t+""}function Vt(n){"@babel/helpers - typeof";return Vt=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Vt(n)}function In(n,t){if(!(n instanceof t))throw new TypeError("Cannot call a class as a function")}function _r(n,t){for(var a=0;a<t.length;a++){var e=t[a];e.enumerable=e.enumerable||!1,e.configurable=!0,"value"in e&&(e.writable=!0),Object.defineProperty(n,ai(e.key),e)}}function Sn(n,t,a){return t&&_r(n.prototype,t),a&&_r(n,a),Object.defineProperty(n,"prototype",{writable:!1}),n}function On(n,t,a){return t=ai(t),t in n?Object.defineProperty(n,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):n[t]=a,n}function oi(n){return kn(n)||Rn(n)||Pn(n)||Un()}function kn(n){if(Array.isArray(n))return Qt(n)}function Rn(n){if(typeof Symbol<"u"&&n[Symbol.iterator]!=null||n["@@iterator"]!=null)return Array.from(n)}function Pn(n,t){if(n){if(typeof n=="string")return Qt(n,t);var a=Object.prototype.toString.call(n).slice(8,-1);if(a==="Object"&&n.constructor&&(a=n.constructor.name),a==="Map"||a==="Set")return Array.from(n);if(a==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a))return Qt(n,t)}}function Qt(n,t){(t==null||t>n.length)&&(t=n.length);for(var a=0,e=new Array(t);a<t;a++)e[a]=n[a];return e}function Un(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var Pt=typeof window<"u"&&typeof window.document<"u",Re=Pt?window:{},dr=Pt&&Re.document.documentElement?"ontouchstart"in Re.document.documentElement:!1,gr=Pt?"PointerEvent"in Re:!1,ee="cropper",pr="all",si="crop",li="move",ci="zoom",Ge="e",Ze="w",tt="s",Fe="n",ut="ne",dt="nw",gt="se",pt="sw",Gt="".concat(ee,"-crop"),Tr="".concat(ee,"-disabled"),be="".concat(ee,"-hidden"),Ir="".concat(ee,"-hide"),Nn="".concat(ee,"-invisible"),Tt="".concat(ee,"-modal"),Zt="".concat(ee,"-move"),mt="".concat(ee,"Action"),Et="".concat(ee,"Preview"),vr="crop",hi="move",fi="none",Kt="crop",Jt="cropend",er="cropmove",tr="cropstart",Sr="dblclick",Ln=dr?"touchstart":"mousedown",$n=dr?"touchmove":"mousemove",Fn=dr?"touchend touchcancel":"mouseup",Or=gr?"pointerdown":Ln,kr=gr?"pointermove":$n,Rr=gr?"pointerup pointercancel":Fn,Pr="ready",Ur="resize",Nr="wheel",rr="zoom",Lr="image/jpeg",Hn=/^e|w|s|n|se|sw|ne|nw|all|crop|move|zoom$/,Bn=/^data:/,zn=/^data:image\/jpeg;base64,/,Wn=/^img|canvas$/i,ui=200,di=100,$r={viewMode:0,dragMode:vr,initialAspectRatio:NaN,aspectRatio:NaN,data:null,preview:"",responsive:!0,restore:!0,checkCrossOrigin:!0,checkOrientation:!0,modal:!0,guides:!0,center:!0,highlight:!0,background:!0,autoCrop:!0,autoCropArea:.8,movable:!0,rotatable:!0,scalable:!0,zoomable:!0,zoomOnTouch:!0,zoomOnWheel:!0,wheelZoomRatio:.1,cropBoxMovable:!0,cropBoxResizable:!0,toggleDragModeOnDblclick:!0,minCanvasWidth:0,minCanvasHeight:0,minCropBoxWidth:0,minCropBoxHeight:0,minContainerWidth:ui,minContainerHeight:di,ready:null,cropstart:null,cropmove:null,cropend:null,crop:null,zoom:null},Xn='<div class="cropper-container" touch-action="none"><div class="cropper-wrap-box"><div class="cropper-canvas"></div></div><div class="cropper-drag-box"></div><div class="cropper-crop-box"><span class="cropper-view-box"></span><span class="cropper-dashed dashed-h"></span><span class="cropper-dashed dashed-v"></span><span class="cropper-center"></span><span class="cropper-face"></span><span class="cropper-line line-e" data-cropper-action="e"></span><span class="cropper-line line-n" data-cropper-action="n"></span><span class="cropper-line line-w" data-cropper-action="w"></span><span class="cropper-line line-s" data-cropper-action="s"></span><span class="cropper-point point-e" data-cropper-action="e"></span><span class="cropper-point point-n" data-cropper-action="n"></span><span class="cropper-point point-w" data-cropper-action="w"></span><span class="cropper-point point-s" data-cropper-action="s"></span><span class="cropper-point point-ne" data-cropper-action="ne"></span><span class="cropper-point point-nw" data-cropper-action="nw"></span><span class="cropper-point point-sw" data-cropper-action="sw"></span><span class="cropper-point point-se" data-cropper-action="se"></span></div></div>',Yn=Number.isNaN||Re.isNaN;function Y(n){return typeof n=="number"&&!Yn(n)}var Fr=function(t){return t>0&&t<1/0};function Bt(n){return typeof n>"u"}function Je(n){return Vt(n)==="object"&&n!==null}var jn=Object.prototype.hasOwnProperty;function rt(n){if(!Je(n))return!1;try{var t=n.constructor,a=t.prototype;return t&&a&&jn.call(a,"isPrototypeOf")}catch{return!1}}function me(n){return typeof n=="function"}var qn=Array.prototype.slice;function gi(n){return Array.from?Array.from(n):qn.call(n)}function se(n,t){return n&&me(t)&&(Array.isArray(n)||Y(n.length)?gi(n).forEach(function(a,e){t.call(n,a,e,n)}):Je(n)&&Object.keys(n).forEach(function(a){t.call(n,n[a],a,n)})),n}var te=Object.assign||function(t){for(var a=arguments.length,e=new Array(a>1?a-1:0),i=1;i<a;i++)e[i-1]=arguments[i];return Je(t)&&e.length>0&&e.forEach(function(r){Je(r)&&Object.keys(r).forEach(function(l){t[l]=r[l]})}),t},Vn=/\.\d*(?:0|9){12}\d*$/;function at(n){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:1e11;return Vn.test(n)?Math.round(n*t)/t:n}var Qn=/^width|height|left|top|marginLeft|marginTop$/;function Be(n,t){var a=n.style;se(t,function(e,i){Qn.test(i)&&Y(e)&&(e="".concat(e,"px")),a[i]=e})}function Gn(n,t){return n.classList?n.classList.contains(t):n.className.indexOf(t)>-1}function ce(n,t){if(t){if(Y(n.length)){se(n,function(e){ce(e,t)});return}if(n.classList){n.classList.add(t);return}var a=n.className.trim();a?a.indexOf(t)<0&&(n.className="".concat(a," ").concat(t)):n.className=t}}function ke(n,t){if(t){if(Y(n.length)){se(n,function(a){ke(a,t)});return}if(n.classList){n.classList.remove(t);return}n.className.indexOf(t)>=0&&(n.className=n.className.replace(t,""))}}function it(n,t,a){if(t){if(Y(n.length)){se(n,function(e){it(e,t,a)});return}a?ce(n,t):ke(n,t)}}var Zn=/([a-z\d])([A-Z])/g;function mr(n){return n.replace(Zn,"$1-$2").toLowerCase()}function ir(n,t){return Je(n[t])?n[t]:n.dataset?n.dataset[t]:n.getAttribute("data-".concat(mr(t)))}function bt(n,t,a){Je(a)?n[t]=a:n.dataset?n.dataset[t]=a:n.setAttribute("data-".concat(mr(t)),a)}function Kn(n,t){if(Je(n[t]))try{delete n[t]}catch{n[t]=void 0}else if(n.dataset)try{delete n.dataset[t]}catch{n.dataset[t]=void 0}else n.removeAttribute("data-".concat(mr(t)))}var pi=/\s\s*/,vi=function(){var n=!1;if(Pt){var t=!1,a=function(){},e=Object.defineProperty({},"once",{get:function(){return n=!0,t},set:function(r){t=r}});Re.addEventListener("test",a,e),Re.removeEventListener("test",a,e)}return n}();function Me(n,t,a){var e=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{},i=a;t.trim().split(pi).forEach(function(r){if(!vi){var l=n.listeners;l&&l[r]&&l[r][a]&&(i=l[r][a],delete l[r][a],Object.keys(l[r]).length===0&&delete l[r],Object.keys(l).length===0&&delete n.listeners)}n.removeEventListener(r,i,e)})}function Ee(n,t,a){var e=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{},i=a;t.trim().split(pi).forEach(function(r){if(e.once&&!vi){var l=n.listeners,h=l===void 0?{}:l;i=function(){delete h[r][a],n.removeEventListener(r,i,e);for(var p=arguments.length,o=new Array(p),s=0;s<p;s++)o[s]=arguments[s];a.apply(n,o)},h[r]||(h[r]={}),h[r][a]&&n.removeEventListener(r,h[r][a],e),h[r][a]=i,n.listeners=h}n.addEventListener(r,i,e)})}function ot(n,t,a){var e;return me(Event)&&me(CustomEvent)?e=new CustomEvent(t,{detail:a,bubbles:!0,cancelable:!0}):(e=document.createEvent("CustomEvent"),e.initCustomEvent(t,!0,!0,a)),n.dispatchEvent(e)}function mi(n){var t=n.getBoundingClientRect();return{left:t.left+(window.pageXOffset-document.documentElement.clientLeft),top:t.top+(window.pageYOffset-document.documentElement.clientTop)}}var zt=Re.location,Jn=/^(\w+:)\/\/([^:/?#]*):?(\d*)/i;function Hr(n){var t=n.match(Jn);return t!==null&&(t[1]!==zt.protocol||t[2]!==zt.hostname||t[3]!==zt.port)}function Br(n){var t="timestamp=".concat(new Date().getTime());return n+(n.indexOf("?")===-1?"?":"&")+t}function vt(n){var t=n.rotate,a=n.scaleX,e=n.scaleY,i=n.translateX,r=n.translateY,l=[];Y(i)&&i!==0&&l.push("translateX(".concat(i,"px)")),Y(r)&&r!==0&&l.push("translateY(".concat(r,"px)")),Y(t)&&t!==0&&l.push("rotate(".concat(t,"deg)")),Y(a)&&a!==1&&l.push("scaleX(".concat(a,")")),Y(e)&&e!==1&&l.push("scaleY(".concat(e,")"));var h=l.length?l.join(" "):"none";return{WebkitTransform:h,msTransform:h,transform:h}}function ea(n){var t=ni({},n),a=0;return se(n,function(e,i){delete t[i],se(t,function(r){var l=Math.abs(e.startX-r.startX),h=Math.abs(e.startY-r.startY),f=Math.abs(e.endX-r.endX),p=Math.abs(e.endY-r.endY),o=Math.sqrt(l*l+h*h),s=Math.sqrt(f*f+p*p),c=(s-o)/o;Math.abs(c)>Math.abs(a)&&(a=c)})}),a}function Dt(n,t){var a=n.pageX,e=n.pageY,i={endX:a,endY:e};return t?i:ni({startX:a,startY:e},i)}function ta(n){var t=0,a=0,e=0;return se(n,function(i){var r=i.startX,l=i.startY;t+=r,a+=l,e+=1}),t/=e,a/=e,{pageX:t,pageY:a}}function ze(n){var t=n.aspectRatio,a=n.height,e=n.width,i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"contain",r=Fr(e),l=Fr(a);if(r&&l){var h=a*t;i==="contain"&&h>e||i==="cover"&&h<e?a=e/t:e=a*t}else r?a=e/t:l&&(e=a*t);return{width:e,height:a}}function ra(n){var t=n.width,a=n.height,e=n.degree;if(e=Math.abs(e)%180,e===90)return{width:a,height:t};var i=e%90*Math.PI/180,r=Math.sin(i),l=Math.cos(i),h=t*l+a*r,f=t*r+a*l;return e>90?{width:f,height:h}:{width:h,height:f}}function ia(n,t,a,e){var i=t.aspectRatio,r=t.naturalWidth,l=t.naturalHeight,h=t.rotate,f=h===void 0?0:h,p=t.scaleX,o=p===void 0?1:p,s=t.scaleY,c=s===void 0?1:s,u=a.aspectRatio,w=a.naturalWidth,C=a.naturalHeight,T=e.fillColor,A=T===void 0?"transparent":T,P=e.imageSmoothingEnabled,k=P===void 0?!0:P,O=e.imageSmoothingQuality,U=O===void 0?"low":O,m=e.maxWidth,I=m===void 0?1/0:m,g=e.maxHeight,d=g===void 0?1/0:g,y=e.minWidth,D=y===void 0?0:y,E=e.minHeight,_=E===void 0?0:E,x=document.createElement("canvas"),M=x.getContext("2d"),b=ze({aspectRatio:u,width:I,height:d}),v=ze({aspectRatio:u,width:D,height:_},"cover"),N=Math.min(b.width,Math.max(v.width,w)),S=Math.min(b.height,Math.max(v.height,C)),L=ze({aspectRatio:i,width:I,height:d}),B=ze({aspectRatio:i,width:D,height:_},"cover"),F=Math.min(L.width,Math.max(B.width,r)),H=Math.min(L.height,Math.max(B.height,l)),$=[-F/2,-H/2,F,H];return x.width=at(N),x.height=at(S),M.fillStyle=A,M.fillRect(0,0,N,S),M.save(),M.translate(N/2,S/2),M.rotate(f*Math.PI/180),M.scale(o,c),M.imageSmoothingEnabled=k,M.imageSmoothingQuality=U,M.drawImage.apply(M,[n].concat(oi($.map(function(R){return Math.floor(at(R))})))),M.restore(),x}var bi=String.fromCharCode;function na(n,t,a){var e="";a+=t;for(var i=t;i<a;i+=1)e+=bi(n.getUint8(i));return e}var aa=/^data:.*,/;function oa(n){var t=n.replace(aa,""),a=atob(t),e=new ArrayBuffer(a.length),i=new Uint8Array(e);return se(i,function(r,l){i[l]=a.charCodeAt(l)}),e}function sa(n,t){for(var a=[],e=8192,i=new Uint8Array(n);i.length>0;)a.push(bi.apply(null,gi(i.subarray(0,e)))),i=i.subarray(e);return"data:".concat(t,";base64,").concat(btoa(a.join("")))}function la(n){var t=new DataView(n),a;try{var e,i,r;if(t.getUint8(0)===255&&t.getUint8(1)===216)for(var l=t.byteLength,h=2;h+1<l;){if(t.getUint8(h)===255&&t.getUint8(h+1)===225){i=h;break}h+=1}if(i){var f=i+4,p=i+10;if(na(t,f,4)==="Exif"){var o=t.getUint16(p);if(e=o===18761,(e||o===19789)&&t.getUint16(p+2,e)===42){var s=t.getUint32(p+4,e);s>=8&&(r=p+s)}}}if(r){var c=t.getUint16(r,e),u,w;for(w=0;w<c;w+=1)if(u=r+w*12+2,t.getUint16(u,e)===274){u+=8,a=t.getUint16(u,e),t.setUint16(u,1,e);break}}}catch{a=1}return a}function ca(n){var t=0,a=1,e=1;switch(n){case 2:a=-1;break;case 3:t=-180;break;case 4:e=-1;break;case 5:t=90,e=-1;break;case 6:t=90;break;case 7:t=90,a=-1;break;case 8:t=-90;break}return{rotate:t,scaleX:a,scaleY:e}}var ha={render:function(){this.initContainer(),this.initCanvas(),this.initCropBox(),this.renderCanvas(),this.cropped&&this.renderCropBox()},initContainer:function(){var t=this.element,a=this.options,e=this.container,i=this.cropper,r=Number(a.minContainerWidth),l=Number(a.minContainerHeight);ce(i,be),ke(t,be);var h={width:Math.max(e.offsetWidth,r>=0?r:ui),height:Math.max(e.offsetHeight,l>=0?l:di)};this.containerData=h,Be(i,{width:h.width,height:h.height}),ce(t,be),ke(i,be)},initCanvas:function(){var t=this.containerData,a=this.imageData,e=this.options.viewMode,i=Math.abs(a.rotate)%180===90,r=i?a.naturalHeight:a.naturalWidth,l=i?a.naturalWidth:a.naturalHeight,h=r/l,f=t.width,p=t.height;t.height*h>t.width?e===3?f=t.height*h:p=t.width/h:e===3?p=t.width/h:f=t.height*h;var o={aspectRatio:h,naturalWidth:r,naturalHeight:l,width:f,height:p};this.canvasData=o,this.limited=e===1||e===2,this.limitCanvas(!0,!0),o.width=Math.min(Math.max(o.width,o.minWidth),o.maxWidth),o.height=Math.min(Math.max(o.height,o.minHeight),o.maxHeight),o.left=(t.width-o.width)/2,o.top=(t.height-o.height)/2,o.oldLeft=o.left,o.oldTop=o.top,this.initialCanvasData=te({},o)},limitCanvas:function(t,a){var e=this.options,i=this.containerData,r=this.canvasData,l=this.cropBoxData,h=e.viewMode,f=r.aspectRatio,p=this.cropped&&l;if(t){var o=Number(e.minCanvasWidth)||0,s=Number(e.minCanvasHeight)||0;h>1?(o=Math.max(o,i.width),s=Math.max(s,i.height),h===3&&(s*f>o?o=s*f:s=o/f)):h>0&&(o?o=Math.max(o,p?l.width:0):s?s=Math.max(s,p?l.height:0):p&&(o=l.width,s=l.height,s*f>o?o=s*f:s=o/f));var c=ze({aspectRatio:f,width:o,height:s});o=c.width,s=c.height,r.minWidth=o,r.minHeight=s,r.maxWidth=1/0,r.maxHeight=1/0}if(a)if(h>(p?0:1)){var u=i.width-r.width,w=i.height-r.height;r.minLeft=Math.min(0,u),r.minTop=Math.min(0,w),r.maxLeft=Math.max(0,u),r.maxTop=Math.max(0,w),p&&this.limited&&(r.minLeft=Math.min(l.left,l.left+(l.width-r.width)),r.minTop=Math.min(l.top,l.top+(l.height-r.height)),r.maxLeft=l.left,r.maxTop=l.top,h===2&&(r.width>=i.width&&(r.minLeft=Math.min(0,u),r.maxLeft=Math.max(0,u)),r.height>=i.height&&(r.minTop=Math.min(0,w),r.maxTop=Math.max(0,w))))}else r.minLeft=-r.width,r.minTop=-r.height,r.maxLeft=i.width,r.maxTop=i.height},renderCanvas:function(t,a){var e=this.canvasData,i=this.imageData;if(a){var r=ra({width:i.naturalWidth*Math.abs(i.scaleX||1),height:i.naturalHeight*Math.abs(i.scaleY||1),degree:i.rotate||0}),l=r.width,h=r.height,f=e.width*(l/e.naturalWidth),p=e.height*(h/e.naturalHeight);e.left-=(f-e.width)/2,e.top-=(p-e.height)/2,e.width=f,e.height=p,e.aspectRatio=l/h,e.naturalWidth=l,e.naturalHeight=h,this.limitCanvas(!0,!1)}(e.width>e.maxWidth||e.width<e.minWidth)&&(e.left=e.oldLeft),(e.height>e.maxHeight||e.height<e.minHeight)&&(e.top=e.oldTop),e.width=Math.min(Math.max(e.width,e.minWidth),e.maxWidth),e.height=Math.min(Math.max(e.height,e.minHeight),e.maxHeight),this.limitCanvas(!1,!0),e.left=Math.min(Math.max(e.left,e.minLeft),e.maxLeft),e.top=Math.min(Math.max(e.top,e.minTop),e.maxTop),e.oldLeft=e.left,e.oldTop=e.top,Be(this.canvas,te({width:e.width,height:e.height},vt({translateX:e.left,translateY:e.top}))),this.renderImage(t),this.cropped&&this.limited&&this.limitCropBox(!0,!0)},renderImage:function(t){var a=this.canvasData,e=this.imageData,i=e.naturalWidth*(a.width/a.naturalWidth),r=e.naturalHeight*(a.height/a.naturalHeight);te(e,{width:i,height:r,left:(a.width-i)/2,top:(a.height-r)/2}),Be(this.image,te({width:e.width,height:e.height},vt(te({translateX:e.left,translateY:e.top},e)))),t&&this.output()},initCropBox:function(){var t=this.options,a=this.canvasData,e=t.aspectRatio||t.initialAspectRatio,i=Number(t.autoCropArea)||.8,r={width:a.width,height:a.height};e&&(a.height*e>a.width?r.height=r.width/e:r.width=r.height*e),this.cropBoxData=r,this.limitCropBox(!0,!0),r.width=Math.min(Math.max(r.width,r.minWidth),r.maxWidth),r.height=Math.min(Math.max(r.height,r.minHeight),r.maxHeight),r.width=Math.max(r.minWidth,r.width*i),r.height=Math.max(r.minHeight,r.height*i),r.left=a.left+(a.width-r.width)/2,r.top=a.top+(a.height-r.height)/2,r.oldLeft=r.left,r.oldTop=r.top,this.initialCropBoxData=te({},r)},limitCropBox:function(t,a){var e=this.options,i=this.containerData,r=this.canvasData,l=this.cropBoxData,h=this.limited,f=e.aspectRatio;if(t){var p=Number(e.minCropBoxWidth)||0,o=Number(e.minCropBoxHeight)||0,s=h?Math.min(i.width,r.width,r.width+r.left,i.width-r.left):i.width,c=h?Math.min(i.height,r.height,r.height+r.top,i.height-r.top):i.height;p=Math.min(p,i.width),o=Math.min(o,i.height),f&&(p&&o?o*f>p?o=p/f:p=o*f:p?o=p/f:o&&(p=o*f),c*f>s?c=s/f:s=c*f),l.minWidth=Math.min(p,s),l.minHeight=Math.min(o,c),l.maxWidth=s,l.maxHeight=c}a&&(h?(l.minLeft=Math.max(0,r.left),l.minTop=Math.max(0,r.top),l.maxLeft=Math.min(i.width,r.left+r.width)-l.width,l.maxTop=Math.min(i.height,r.top+r.height)-l.height):(l.minLeft=0,l.minTop=0,l.maxLeft=i.width-l.width,l.maxTop=i.height-l.height))},renderCropBox:function(){var t=this.options,a=this.containerData,e=this.cropBoxData;(e.width>e.maxWidth||e.width<e.minWidth)&&(e.left=e.oldLeft),(e.height>e.maxHeight||e.height<e.minHeight)&&(e.top=e.oldTop),e.width=Math.min(Math.max(e.width,e.minWidth),e.maxWidth),e.height=Math.min(Math.max(e.height,e.minHeight),e.maxHeight),this.limitCropBox(!1,!0),e.left=Math.min(Math.max(e.left,e.minLeft),e.maxLeft),e.top=Math.min(Math.max(e.top,e.minTop),e.maxTop),e.oldLeft=e.left,e.oldTop=e.top,t.movable&&t.cropBoxMovable&&bt(this.face,mt,e.width>=a.width&&e.height>=a.height?li:pr),Be(this.cropBox,te({width:e.width,height:e.height},vt({translateX:e.left,translateY:e.top}))),this.cropped&&this.limited&&this.limitCanvas(!0,!0),this.disabled||this.output()},output:function(){this.preview(),ot(this.element,Kt,this.getData())}},fa={initPreview:function(){var t=this.element,a=this.crossOrigin,e=this.options.preview,i=a?this.crossOriginUrl:this.url,r=t.alt||"The image to preview",l=document.createElement("img");if(a&&(l.crossOrigin=a),l.src=i,l.alt=r,this.viewBox.appendChild(l),this.viewBoxImage=l,!!e){var h=e;typeof e=="string"?h=t.ownerDocument.querySelectorAll(e):e.querySelector&&(h=[e]),this.previews=h,se(h,function(f){var p=document.createElement("img");bt(f,Et,{width:f.offsetWidth,height:f.offsetHeight,html:f.innerHTML}),a&&(p.crossOrigin=a),p.src=i,p.alt=r,p.style.cssText='display:block;width:100%;height:auto;min-width:0!important;min-height:0!important;max-width:none!important;max-height:none!important;image-orientation:0deg!important;"',f.innerHTML="",f.appendChild(p)})}},resetPreview:function(){se(this.previews,function(t){var a=ir(t,Et);Be(t,{width:a.width,height:a.height}),t.innerHTML=a.html,Kn(t,Et)})},preview:function(){var t=this.imageData,a=this.canvasData,e=this.cropBoxData,i=e.width,r=e.height,l=t.width,h=t.height,f=e.left-a.left-t.left,p=e.top-a.top-t.top;!this.cropped||this.disabled||(Be(this.viewBoxImage,te({width:l,height:h},vt(te({translateX:-f,translateY:-p},t)))),se(this.previews,function(o){var s=ir(o,Et),c=s.width,u=s.height,w=c,C=u,T=1;i&&(T=c/i,C=r*T),r&&C>u&&(T=u/r,w=i*T,C=u),Be(o,{width:w,height:C}),Be(o.getElementsByTagName("img")[0],te({width:l*T,height:h*T},vt(te({translateX:-f*T,translateY:-p*T},t))))}))}},ua={bind:function(){var t=this.element,a=this.options,e=this.cropper;me(a.cropstart)&&Ee(t,tr,a.cropstart),me(a.cropmove)&&Ee(t,er,a.cropmove),me(a.cropend)&&Ee(t,Jt,a.cropend),me(a.crop)&&Ee(t,Kt,a.crop),me(a.zoom)&&Ee(t,rr,a.zoom),Ee(e,Or,this.onCropStart=this.cropStart.bind(this)),a.zoomable&&a.zoomOnWheel&&Ee(e,Nr,this.onWheel=this.wheel.bind(this),{passive:!1,capture:!0}),a.toggleDragModeOnDblclick&&Ee(e,Sr,this.onDblclick=this.dblclick.bind(this)),Ee(t.ownerDocument,kr,this.onCropMove=this.cropMove.bind(this)),Ee(t.ownerDocument,Rr,this.onCropEnd=this.cropEnd.bind(this)),a.responsive&&Ee(window,Ur,this.onResize=this.resize.bind(this))},unbind:function(){var t=this.element,a=this.options,e=this.cropper;me(a.cropstart)&&Me(t,tr,a.cropstart),me(a.cropmove)&&Me(t,er,a.cropmove),me(a.cropend)&&Me(t,Jt,a.cropend),me(a.crop)&&Me(t,Kt,a.crop),me(a.zoom)&&Me(t,rr,a.zoom),Me(e,Or,this.onCropStart),a.zoomable&&a.zoomOnWheel&&Me(e,Nr,this.onWheel,{passive:!1,capture:!0}),a.toggleDragModeOnDblclick&&Me(e,Sr,this.onDblclick),Me(t.ownerDocument,kr,this.onCropMove),Me(t.ownerDocument,Rr,this.onCropEnd),a.responsive&&Me(window,Ur,this.onResize)}},da={resize:function(){if(!this.disabled){var t=this.options,a=this.container,e=this.containerData,i=a.offsetWidth/e.width,r=a.offsetHeight/e.height,l=Math.abs(i-1)>Math.abs(r-1)?i:r;if(l!==1){var h,f;t.restore&&(h=this.getCanvasData(),f=this.getCropBoxData()),this.render(),t.restore&&(this.setCanvasData(se(h,function(p,o){h[o]=p*l})),this.setCropBoxData(se(f,function(p,o){f[o]=p*l})))}}},dblclick:function(){this.disabled||this.options.dragMode===fi||this.setDragMode(Gn(this.dragBox,Gt)?hi:vr)},wheel:function(t){var a=this,e=Number(this.options.wheelZoomRatio)||.1,i=1;this.disabled||(t.preventDefault(),!this.wheeling&&(this.wheeling=!0,setTimeout(function(){a.wheeling=!1},50),t.deltaY?i=t.deltaY>0?1:-1:t.wheelDelta?i=-t.wheelDelta/120:t.detail&&(i=t.detail>0?1:-1),this.zoom(-i*e,t)))},cropStart:function(t){var a=t.buttons,e=t.button;if(!(this.disabled||(t.type==="mousedown"||t.type==="pointerdown"&&t.pointerType==="mouse")&&(Y(a)&&a!==1||Y(e)&&e!==0||t.ctrlKey))){var i=this.options,r=this.pointers,l;t.changedTouches?se(t.changedTouches,function(h){r[h.identifier]=Dt(h)}):r[t.pointerId||0]=Dt(t),Object.keys(r).length>1&&i.zoomable&&i.zoomOnTouch?l=ci:l=ir(t.target,mt),Hn.test(l)&&ot(this.element,tr,{originalEvent:t,action:l})!==!1&&(t.preventDefault(),this.action=l,this.cropping=!1,l===si&&(this.cropping=!0,ce(this.dragBox,Tt)))}},cropMove:function(t){var a=this.action;if(!(this.disabled||!a)){var e=this.pointers;t.preventDefault(),ot(this.element,er,{originalEvent:t,action:a})!==!1&&(t.changedTouches?se(t.changedTouches,function(i){te(e[i.identifier]||{},Dt(i,!0))}):te(e[t.pointerId||0]||{},Dt(t,!0)),this.change(t))}},cropEnd:function(t){if(!this.disabled){var a=this.action,e=this.pointers;t.changedTouches?se(t.changedTouches,function(i){delete e[i.identifier]}):delete e[t.pointerId||0],a&&(t.preventDefault(),Object.keys(e).length||(this.action=""),this.cropping&&(this.cropping=!1,it(this.dragBox,Tt,this.cropped&&this.options.modal)),ot(this.element,Jt,{originalEvent:t,action:a}))}}},ga={change:function(t){var a=this.options,e=this.canvasData,i=this.containerData,r=this.cropBoxData,l=this.pointers,h=this.action,f=a.aspectRatio,p=r.left,o=r.top,s=r.width,c=r.height,u=p+s,w=o+c,C=0,T=0,A=i.width,P=i.height,k=!0,O;!f&&t.shiftKey&&(f=s&&c?s/c:1),this.limited&&(C=r.minLeft,T=r.minTop,A=C+Math.min(i.width,e.width,e.left+e.width),P=T+Math.min(i.height,e.height,e.top+e.height));var U=l[Object.keys(l)[0]],m={x:U.endX-U.startX,y:U.endY-U.startY},I=function(d){switch(d){case Ge:u+m.x>A&&(m.x=A-u);break;case Ze:p+m.x<C&&(m.x=C-p);break;case Fe:o+m.y<T&&(m.y=T-o);break;case tt:w+m.y>P&&(m.y=P-w);break}};switch(h){case pr:p+=m.x,o+=m.y;break;case Ge:if(m.x>=0&&(u>=A||f&&(o<=T||w>=P))){k=!1;break}I(Ge),s+=m.x,s<0&&(h=Ze,s=-s,p-=s),f&&(c=s/f,o+=(r.height-c)/2);break;case Fe:if(m.y<=0&&(o<=T||f&&(p<=C||u>=A))){k=!1;break}I(Fe),c-=m.y,o+=m.y,c<0&&(h=tt,c=-c,o-=c),f&&(s=c*f,p+=(r.width-s)/2);break;case Ze:if(m.x<=0&&(p<=C||f&&(o<=T||w>=P))){k=!1;break}I(Ze),s-=m.x,p+=m.x,s<0&&(h=Ge,s=-s,p-=s),f&&(c=s/f,o+=(r.height-c)/2);break;case tt:if(m.y>=0&&(w>=P||f&&(p<=C||u>=A))){k=!1;break}I(tt),c+=m.y,c<0&&(h=Fe,c=-c,o-=c),f&&(s=c*f,p+=(r.width-s)/2);break;case ut:if(f){if(m.y<=0&&(o<=T||u>=A)){k=!1;break}I(Fe),c-=m.y,o+=m.y,s=c*f}else I(Fe),I(Ge),m.x>=0?u<A?s+=m.x:m.y<=0&&o<=T&&(k=!1):s+=m.x,m.y<=0?o>T&&(c-=m.y,o+=m.y):(c-=m.y,o+=m.y);s<0&&c<0?(h=pt,c=-c,s=-s,o-=c,p-=s):s<0?(h=dt,s=-s,p-=s):c<0&&(h=gt,c=-c,o-=c);break;case dt:if(f){if(m.y<=0&&(o<=T||p<=C)){k=!1;break}I(Fe),c-=m.y,o+=m.y,s=c*f,p+=r.width-s}else I(Fe),I(Ze),m.x<=0?p>C?(s-=m.x,p+=m.x):m.y<=0&&o<=T&&(k=!1):(s-=m.x,p+=m.x),m.y<=0?o>T&&(c-=m.y,o+=m.y):(c-=m.y,o+=m.y);s<0&&c<0?(h=gt,c=-c,s=-s,o-=c,p-=s):s<0?(h=ut,s=-s,p-=s):c<0&&(h=pt,c=-c,o-=c);break;case pt:if(f){if(m.x<=0&&(p<=C||w>=P)){k=!1;break}I(Ze),s-=m.x,p+=m.x,c=s/f}else I(tt),I(Ze),m.x<=0?p>C?(s-=m.x,p+=m.x):m.y>=0&&w>=P&&(k=!1):(s-=m.x,p+=m.x),m.y>=0?w<P&&(c+=m.y):c+=m.y;s<0&&c<0?(h=ut,c=-c,s=-s,o-=c,p-=s):s<0?(h=gt,s=-s,p-=s):c<0&&(h=dt,c=-c,o-=c);break;case gt:if(f){if(m.x>=0&&(u>=A||w>=P)){k=!1;break}I(Ge),s+=m.x,c=s/f}else I(tt),I(Ge),m.x>=0?u<A?s+=m.x:m.y>=0&&w>=P&&(k=!1):s+=m.x,m.y>=0?w<P&&(c+=m.y):c+=m.y;s<0&&c<0?(h=dt,c=-c,s=-s,o-=c,p-=s):s<0?(h=pt,s=-s,p-=s):c<0&&(h=ut,c=-c,o-=c);break;case li:this.move(m.x,m.y),k=!1;break;case ci:this.zoom(ea(l),t),k=!1;break;case si:if(!m.x||!m.y){k=!1;break}O=mi(this.cropper),p=U.startX-O.left,o=U.startY-O.top,s=r.minWidth,c=r.minHeight,m.x>0?h=m.y>0?gt:ut:m.x<0&&(p-=s,h=m.y>0?pt:dt),m.y<0&&(o-=c),this.cropped||(ke(this.cropBox,be),this.cropped=!0,this.limited&&this.limitCropBox(!0,!0));break}k&&(r.width=s,r.height=c,r.left=p,r.top=o,this.action=h,this.renderCropBox()),se(l,function(g){g.startX=g.endX,g.startY=g.endY})}},pa={crop:function(){return this.ready&&!this.cropped&&!this.disabled&&(this.cropped=!0,this.limitCropBox(!0,!0),this.options.modal&&ce(this.dragBox,Tt),ke(this.cropBox,be),this.setCropBoxData(this.initialCropBoxData)),this},reset:function(){return this.ready&&!this.disabled&&(this.imageData=te({},this.initialImageData),this.canvasData=te({},this.initialCanvasData),this.cropBoxData=te({},this.initialCropBoxData),this.renderCanvas(),this.cropped&&this.renderCropBox()),this},clear:function(){return this.cropped&&!this.disabled&&(te(this.cropBoxData,{left:0,top:0,width:0,height:0}),this.cropped=!1,this.renderCropBox(),this.limitCanvas(!0,!0),this.renderCanvas(),ke(this.dragBox,Tt),ce(this.cropBox,be)),this},replace:function(t){var a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;return!this.disabled&&t&&(this.isImg&&(this.element.src=t),a?(this.url=t,this.image.src=t,this.ready&&(this.viewBoxImage.src=t,se(this.previews,function(e){e.getElementsByTagName("img")[0].src=t}))):(this.isImg&&(this.replaced=!0),this.options.data=null,this.uncreate(),this.load(t))),this},enable:function(){return this.ready&&this.disabled&&(this.disabled=!1,ke(this.cropper,Tr)),this},disable:function(){return this.ready&&!this.disabled&&(this.disabled=!0,ce(this.cropper,Tr)),this},destroy:function(){var t=this.element;return t[ee]?(t[ee]=void 0,this.isImg&&this.replaced&&(t.src=this.originalUrl),this.uncreate(),this):this},move:function(t){var a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:t,e=this.canvasData,i=e.left,r=e.top;return this.moveTo(Bt(t)?t:i+Number(t),Bt(a)?a:r+Number(a))},moveTo:function(t){var a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:t,e=this.canvasData,i=!1;return t=Number(t),a=Number(a),this.ready&&!this.disabled&&this.options.movable&&(Y(t)&&(e.left=t,i=!0),Y(a)&&(e.top=a,i=!0),i&&this.renderCanvas(!0)),this},zoom:function(t,a){var e=this.canvasData;return t=Number(t),t<0?t=1/(1-t):t=1+t,this.zoomTo(e.width*t/e.naturalWidth,null,a)},zoomTo:function(t,a,e){var i=this.options,r=this.canvasData,l=r.width,h=r.height,f=r.naturalWidth,p=r.naturalHeight;if(t=Number(t),t>=0&&this.ready&&!this.disabled&&i.zoomable){var o=f*t,s=p*t;if(ot(this.element,rr,{ratio:t,oldRatio:l/f,originalEvent:e})===!1)return this;if(e){var c=this.pointers,u=mi(this.cropper),w=c&&Object.keys(c).length?ta(c):{pageX:e.pageX,pageY:e.pageY};r.left-=(o-l)*((w.pageX-u.left-r.left)/l),r.top-=(s-h)*((w.pageY-u.top-r.top)/h)}else rt(a)&&Y(a.x)&&Y(a.y)?(r.left-=(o-l)*((a.x-r.left)/l),r.top-=(s-h)*((a.y-r.top)/h)):(r.left-=(o-l)/2,r.top-=(s-h)/2);r.width=o,r.height=s,this.renderCanvas(!0)}return this},rotate:function(t){return this.rotateTo((this.imageData.rotate||0)+Number(t))},rotateTo:function(t){return t=Number(t),Y(t)&&this.ready&&!this.disabled&&this.options.rotatable&&(this.imageData.rotate=t%360,this.renderCanvas(!0,!0)),this},scaleX:function(t){var a=this.imageData.scaleY;return this.scale(t,Y(a)?a:1)},scaleY:function(t){var a=this.imageData.scaleX;return this.scale(Y(a)?a:1,t)},scale:function(t){var a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:t,e=this.imageData,i=!1;return t=Number(t),a=Number(a),this.ready&&!this.disabled&&this.options.scalable&&(Y(t)&&(e.scaleX=t,i=!0),Y(a)&&(e.scaleY=a,i=!0),i&&this.renderCanvas(!0,!0)),this},getData:function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1,a=this.options,e=this.imageData,i=this.canvasData,r=this.cropBoxData,l;if(this.ready&&this.cropped){l={x:r.left-i.left,y:r.top-i.top,width:r.width,height:r.height};var h=e.width/e.naturalWidth;if(se(l,function(o,s){l[s]=o/h}),t){var f=Math.round(l.y+l.height),p=Math.round(l.x+l.width);l.x=Math.round(l.x),l.y=Math.round(l.y),l.width=p-l.x,l.height=f-l.y}}else l={x:0,y:0,width:0,height:0};return a.rotatable&&(l.rotate=e.rotate||0),a.scalable&&(l.scaleX=e.scaleX||1,l.scaleY=e.scaleY||1),l},setData:function(t){var a=this.options,e=this.imageData,i=this.canvasData,r={};if(this.ready&&!this.disabled&&rt(t)){var l=!1;a.rotatable&&Y(t.rotate)&&t.rotate!==e.rotate&&(e.rotate=t.rotate,l=!0),a.scalable&&(Y(t.scaleX)&&t.scaleX!==e.scaleX&&(e.scaleX=t.scaleX,l=!0),Y(t.scaleY)&&t.scaleY!==e.scaleY&&(e.scaleY=t.scaleY,l=!0)),l&&this.renderCanvas(!0,!0);var h=e.width/e.naturalWidth;Y(t.x)&&(r.left=t.x*h+i.left),Y(t.y)&&(r.top=t.y*h+i.top),Y(t.width)&&(r.width=t.width*h),Y(t.height)&&(r.height=t.height*h),this.setCropBoxData(r)}return this},getContainerData:function(){return this.ready?te({},this.containerData):{}},getImageData:function(){return this.sized?te({},this.imageData):{}},getCanvasData:function(){var t=this.canvasData,a={};return this.ready&&se(["left","top","width","height","naturalWidth","naturalHeight"],function(e){a[e]=t[e]}),a},setCanvasData:function(t){var a=this.canvasData,e=a.aspectRatio;return this.ready&&!this.disabled&&rt(t)&&(Y(t.left)&&(a.left=t.left),Y(t.top)&&(a.top=t.top),Y(t.width)?(a.width=t.width,a.height=t.width/e):Y(t.height)&&(a.height=t.height,a.width=t.height*e),this.renderCanvas(!0)),this},getCropBoxData:function(){var t=this.cropBoxData,a;return this.ready&&this.cropped&&(a={left:t.left,top:t.top,width:t.width,height:t.height}),a||{}},setCropBoxData:function(t){var a=this.cropBoxData,e=this.options.aspectRatio,i,r;return this.ready&&this.cropped&&!this.disabled&&rt(t)&&(Y(t.left)&&(a.left=t.left),Y(t.top)&&(a.top=t.top),Y(t.width)&&t.width!==a.width&&(i=!0,a.width=t.width),Y(t.height)&&t.height!==a.height&&(r=!0,a.height=t.height),e&&(i?a.height=a.width/e:r&&(a.width=a.height*e)),this.renderCropBox()),this},getCroppedCanvas:function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};if(!this.ready||!window.HTMLCanvasElement)return null;var a=this.canvasData,e=ia(this.image,this.imageData,a,t);if(!this.cropped)return e;var i=this.getData(t.rounded),r=i.x,l=i.y,h=i.width,f=i.height,p=e.width/Math.floor(a.naturalWidth);p!==1&&(r*=p,l*=p,h*=p,f*=p);var o=h/f,s=ze({aspectRatio:o,width:t.maxWidth||1/0,height:t.maxHeight||1/0}),c=ze({aspectRatio:o,width:t.minWidth||0,height:t.minHeight||0},"cover"),u=ze({aspectRatio:o,width:t.width||(p!==1?e.width:h),height:t.height||(p!==1?e.height:f)}),w=u.width,C=u.height;w=Math.min(s.width,Math.max(c.width,w)),C=Math.min(s.height,Math.max(c.height,C));var T=document.createElement("canvas"),A=T.getContext("2d");T.width=at(w),T.height=at(C),A.fillStyle=t.fillColor||"transparent",A.fillRect(0,0,w,C);var P=t.imageSmoothingEnabled,k=P===void 0?!0:P,O=t.imageSmoothingQuality;A.imageSmoothingEnabled=k,O&&(A.imageSmoothingQuality=O);var U=e.width,m=e.height,I=r,g=l,d,y,D,E,_,x;I<=-h||I>U?(I=0,d=0,D=0,_=0):I<=0?(D=-I,I=0,d=Math.min(U,h+I),_=d):I<=U&&(D=0,d=Math.min(h,U-I),_=d),d<=0||g<=-f||g>m?(g=0,y=0,E=0,x=0):g<=0?(E=-g,g=0,y=Math.min(m,f+g),x=y):g<=m&&(E=0,y=Math.min(f,m-g),x=y);var M=[I,g,d,y];if(_>0&&x>0){var b=w/h;M.push(D*b,E*b,_*b,x*b)}return A.drawImage.apply(A,[e].concat(oi(M.map(function(v){return Math.floor(at(v))})))),T},setAspectRatio:function(t){var a=this.options;return!this.disabled&&!Bt(t)&&(a.aspectRatio=Math.max(0,t)||NaN,this.ready&&(this.initCropBox(),this.cropped&&this.renderCropBox())),this},setDragMode:function(t){var a=this.options,e=this.dragBox,i=this.face;if(this.ready&&!this.disabled){var r=t===vr,l=a.movable&&t===hi;t=r||l?t:fi,a.dragMode=t,bt(e,mt,t),it(e,Gt,r),it(e,Zt,l),a.cropBoxMovable||(bt(i,mt,t),it(i,Gt,r),it(i,Zt,l))}return this}},va=Re.Cropper,wi=function(){function n(t){var a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(In(this,n),!t||!Wn.test(t.tagName))throw new Error("The first argument is required and must be an <img> or <canvas> element.");this.element=t,this.options=te({},$r,rt(a)&&a),this.cropped=!1,this.disabled=!1,this.pointers={},this.ready=!1,this.reloading=!1,this.replaced=!1,this.sized=!1,this.sizing=!1,this.init()}return Sn(n,[{key:"init",value:function(){var a=this.element,e=a.tagName.toLowerCase(),i;if(!a[ee]){if(a[ee]=this,e==="img"){if(this.isImg=!0,i=a.getAttribute("src")||"",this.originalUrl=i,!i)return;i=a.src}else e==="canvas"&&window.HTMLCanvasElement&&(i=a.toDataURL());this.load(i)}}},{key:"load",value:function(a){var e=this;if(a){this.url=a,this.imageData={};var i=this.element,r=this.options;if(!r.rotatable&&!r.scalable&&(r.checkOrientation=!1),!r.checkOrientation||!window.ArrayBuffer){this.clone();return}if(Bn.test(a)){zn.test(a)?this.read(oa(a)):this.clone();return}var l=new XMLHttpRequest,h=this.clone.bind(this);this.reloading=!0,this.xhr=l,l.onabort=h,l.onerror=h,l.ontimeout=h,l.onprogress=function(){l.getResponseHeader("content-type")!==Lr&&l.abort()},l.onload=function(){e.read(l.response)},l.onloadend=function(){e.reloading=!1,e.xhr=null},r.checkCrossOrigin&&Hr(a)&&i.crossOrigin&&(a=Br(a)),l.open("GET",a,!0),l.responseType="arraybuffer",l.withCredentials=i.crossOrigin==="use-credentials",l.send()}}},{key:"read",value:function(a){var e=this.options,i=this.imageData,r=la(a),l=0,h=1,f=1;if(r>1){this.url=sa(a,Lr);var p=ca(r);l=p.rotate,h=p.scaleX,f=p.scaleY}e.rotatable&&(i.rotate=l),e.scalable&&(i.scaleX=h,i.scaleY=f),this.clone()}},{key:"clone",value:function(){var a=this.element,e=this.url,i=a.crossOrigin,r=e;this.options.checkCrossOrigin&&Hr(e)&&(i||(i="anonymous"),r=Br(e)),this.crossOrigin=i,this.crossOriginUrl=r;var l=document.createElement("img");i&&(l.crossOrigin=i),l.src=r||e,l.alt=a.alt||"The image to crop",this.image=l,l.onload=this.start.bind(this),l.onerror=this.stop.bind(this),ce(l,Ir),a.parentNode.insertBefore(l,a.nextSibling)}},{key:"start",value:function(){var a=this,e=this.image;e.onload=null,e.onerror=null,this.sizing=!0;var i=Re.navigator&&/(?:iPad|iPhone|iPod).*?AppleWebKit/i.test(Re.navigator.userAgent),r=function(p,o){te(a.imageData,{naturalWidth:p,naturalHeight:o,aspectRatio:p/o}),a.initialImageData=te({},a.imageData),a.sizing=!1,a.sized=!0,a.build()};if(e.naturalWidth&&!i){r(e.naturalWidth,e.naturalHeight);return}var l=document.createElement("img"),h=document.body||document.documentElement;this.sizingImage=l,l.onload=function(){r(l.width,l.height),i||h.removeChild(l)},l.src=e.src,i||(l.style.cssText="left:0;max-height:none!important;max-width:none!important;min-height:0!important;min-width:0!important;opacity:0;position:absolute;top:0;z-index:-1;",h.appendChild(l))}},{key:"stop",value:function(){var a=this.image;a.onload=null,a.onerror=null,a.parentNode.removeChild(a),this.image=null}},{key:"build",value:function(){if(!(!this.sized||this.ready)){var a=this.element,e=this.options,i=this.image,r=a.parentNode,l=document.createElement("div");l.innerHTML=Xn;var h=l.querySelector(".".concat(ee,"-container")),f=h.querySelector(".".concat(ee,"-canvas")),p=h.querySelector(".".concat(ee,"-drag-box")),o=h.querySelector(".".concat(ee,"-crop-box")),s=o.querySelector(".".concat(ee,"-face"));this.container=r,this.cropper=h,this.canvas=f,this.dragBox=p,this.cropBox=o,this.viewBox=h.querySelector(".".concat(ee,"-view-box")),this.face=s,f.appendChild(i),ce(a,be),r.insertBefore(h,a.nextSibling),ke(i,Ir),this.initPreview(),this.bind(),e.initialAspectRatio=Math.max(0,e.initialAspectRatio)||NaN,e.aspectRatio=Math.max(0,e.aspectRatio)||NaN,e.viewMode=Math.max(0,Math.min(3,Math.round(e.viewMode)))||0,ce(o,be),e.guides||ce(o.getElementsByClassName("".concat(ee,"-dashed")),be),e.center||ce(o.getElementsByClassName("".concat(ee,"-center")),be),e.background&&ce(h,"".concat(ee,"-bg")),e.highlight||ce(s,Nn),e.cropBoxMovable&&(ce(s,Zt),bt(s,mt,pr)),e.cropBoxResizable||(ce(o.getElementsByClassName("".concat(ee,"-line")),be),ce(o.getElementsByClassName("".concat(ee,"-point")),be)),this.render(),this.ready=!0,this.setDragMode(e.dragMode),e.autoCrop&&this.crop(),this.setData(e.data),me(e.ready)&&Ee(a,Pr,e.ready,{once:!0}),ot(a,Pr)}}},{key:"unbuild",value:function(){if(this.ready){this.ready=!1,this.unbind(),this.resetPreview();var a=this.cropper.parentNode;a&&a.removeChild(this.cropper),ke(this.element,be)}}},{key:"uncreate",value:function(){this.ready?(this.unbuild(),this.ready=!1,this.cropped=!1):this.sizing?(this.sizingImage.onload=null,this.sizing=!1,this.sized=!1):this.reloading?(this.xhr.onabort=null,this.xhr.abort()):this.image&&this.stop()}}],[{key:"noConflict",value:function(){return window.Cropper=va,n}},{key:"setDefaults",value:function(a){te($r,rt(a)&&a)}}])}();te(wi.prototype,ha,fa,ua,da,ga,pa);var ma=V("<svg>");const zr=n=>{const[t,a]=nr(n,["path"]);return(()=>{var e=ma();return Xt(e,De({get viewBox(){return t.path.mini?"0 0 20 20":"0 0 24 24"},get fill(){return t.path.outline?"none":"currentColor"},get stroke(){return t.path.outline?"currentColor":"none"},get"stroke-width"(){return t.path.outline?1.5:void 0}},a),!0,!0),X(e,()=>t.path.path),e})()};var ba=V('<svg><path fill-rule=evenodd d="M10.5 3.75a6 6 0 00-5.98 6.496A5.25 5.25 0 006.75 20.25H18a4.5 4.5 0 002.206-8.423 3.75 3.75 0 00-4.133-4.303A6.001 6.001 0 0010.5 3.75zm2.03 5.47a.75.75 0 00-1.06 0l-3 3a.75.75 0 101.06 1.06l1.72-1.72v4.94a.75.75 0 001.5 0v-4.94l1.72 1.72a.75.75 0 101.06-1.06l-3-3z"clip-rule=evenodd></svg>',!1,!0,!1),wa=V('<svg><path fill-rule=evenodd d="M1.5 6a2.25 2.25 0 012.25-2.25h16.5A2.25 2.25 0 0122.5 6v12a2.25 2.25 0 01-2.25 2.25H3.75A2.25 2.25 0 011.5 18V6zM3 16.06V18c0 .414.336.75.75.75h16.5A.75.75 0 0021 18v-1.94l-2.69-2.689a1.5 1.5 0 00-2.12 0l-.88.879.97.97a.75.75 0 11-1.06 1.06l-5.16-5.159a1.5 1.5 0 00-2.12 0L3 16.061zm10.125-7.81a1.125 1.125 0 112.25 0 1.125 1.125 0 01-2.25 0z"clip-rule=evenodd></svg>',!1,!0,!1);const ya={path:()=>ba(),outline:!1,mini:!1},xa={path:()=>wa(),outline:!1,mini:!1};var Aa=V('<div class="w-full max-w-md mx-auto"><div class="w-full my-2"><img alt=cropper class="block w-full max-h-96 object-contain"></div><div class="flex gap-2 mt-2"><button type=button class="inline-flex items-center gap-x-1.5 rounded-md bg-indigo-600 py-2 px-3 text-sm font-semibold text-white shadow-sm hover:bg-indigo-500 focus-visible:outline focus-visible:outline-2 focus-visible:outline-offset-2 focus-visible:outline-indigo-600">Save</button><button type=button class="inline-flex items-center gap-x-1.5 rounded-md bg-gray-600 py-2 px-3 text-sm font-semibold text-white shadow-sm hover:bg-gray-500 focus-visible:outline focus-visible:outline-2 focus-visible:outline-offset-2 focus-visible:outline-gray-600">Cancel'),Ea=V('<form class="w-full max-w-md mx-auto"><div id=dropzone><div class></div><input id=image-upload name=file type=file class=sr-only></div><div class=h-8>'),Da=V('<svg class="-ml-0.5 h-5 w-5 animate-spin text-white"xmlns=http://www.w3.org/2000/svg fill=none viewBox="0 0 24 24"><circle class=opacity-25 cx=12 cy=12 r=10 stroke=currentColor stroke-width=4></circle><path class=opacity-75 fill=currentColor d="M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z">');function Ca(n){let t,a;const[e,i]=Yt({error:null,loading:!1,file:{},croppedImage:null}),[r,l]=ne(1),[h,f]=ne(1),[p,o]=ne(!1),[s,c]=ne(!1),[u,w]=ne(null),[C,T]=ne(null),A=I=>{I.preventDefault()},P=async I=>{if(I){c(!0),i("loading",!0),i("file",I);try{const g=new FileReader;g.onload=d=>{w(d.target.result),T(new wi(t,{aspectRatio:r()/h(),viewMode:1,rotatable:!1}))},Oe(()=>{}),g.readAsDataURL(I)}catch(g){console.error("upload failed",g);const d=g instanceof Error?g.message:String(g);i("error",d)}i("loading",!1),c(!1)}},k=(I,g)=>{l(I),f(g),C()&&C().setAspectRatio(I/g)},O=async I=>{I.preventDefault(),o(!1),P(I.dataTransfer.files[0])},U=async I=>{I.preventDefault(),P(I.currentTarget.files[0])},m=()=>{s()||a.click()};return wt(()=>{n.aspectRatioWidth>=1&&n.aspectRatioHeight>=1&&k(n.aspectRatioWidth,n.aspectRatioHeight)}),[W(_t,{get when(){return u()!==null},get children(){var I=Aa(),g=I.firstChild,d=g.firstChild,y=g.nextSibling,D=y.firstChild,E=D.firstChild,_=D.nextSibling,x=t;return typeof x=="function"?Ar(x,d):t=d,D.$$click=()=>{i("croppedImage",C().getCroppedCanvas().toDataURL(e.file.type)),n.saveImage(e)},X(D,(()=>{var M=ve(()=>!!n.loading);return()=>M()?Da():W(zr,{path:ya,class:"-ml-0.5 h-5 w-5","aria-hidden":"true"})})(),E),_.$$click=()=>{C()&&C().destroy(),T(null),w(null),i("croppedImage",null),i("file",{}),n.closeModal()},Oe(M=>{var b=u(),v=n.loading;return b!==M.e&&jt(d,"src",M.e=b),v!==M.t&&(D.disabled=M.t=v),M},{e:void 0,t:void 0}),I}}),W(_t,{get when(){return u()===null},get children(){var I=Ea(),g=I.firstChild,d=g.firstChild,y=d.nextSibling;g.$$click=m,g.addEventListener("drop",E=>s()?A(E):O(E)),g.addEventListener("dragover",A),g.addEventListener("dragleave",()=>o(!1)),g.addEventListener("dragenter",()=>s()?void 0:o(!0)),X(d,W(zr,{path:xa,class:"h-32 w-32 sm:h-48 sm:w-48 text-gray-300 mx-auto"}));var D=a;return typeof D=="function"?Ar(D,y):a=y,y.$$input=U,Oe(E=>{var _=`cursor-pointer ${p()?"bg-green-100":""} ${s()&&"opacity-50"} place-content-center place-items-center min-h-[16rem] w-full border-2 border-gray-300 border-dashed rounded-md sm:flex p-2 my-2`,x=s();return _!==E.e&&Mt(g,E.e=_),x!==E.t&&(y.disabled=E.t=x),E},{e:void 0,t:void 0}),I}})]}jr(["click","input"]);var Ma=V('<div class="min-h-screen px-4 flex items-center justify-center"><span class="inline-block h-screen align-middle"aria-hidden=true>&#8203;'),_a=V("<select class=mt-4><option value=16:9>16:9</option><option value=4:3>4:3</option><option value=1:1>1:1");function Ta(n){const t=h=>{const[f,p]=h.split(":").map(o=>parseInt(o));return{width:f,height:p}},a=n.defaultRatio?t(n.defaultRatio):{width:16,height:9},[e,i]=ne(a.width),[r,l]=ne(a.height);return qr(()=>{if(n.defaultRatio){const{width:h,height:f}=t(n.defaultRatio);i(h),l(f)}}),W(_n,{appear:!0,get show(){return n.isOpen()},get children(){return W(An,{isOpen:!0,class:"fixed inset-0 z-10 overflow-y-auto",get onClose(){return n.closeModal},get children(){var h=Ma(),f=h.firstChild;return X(h,W(qt,{enter:"ease-out duration-300",enterFrom:"opacity-0",enterTo:"opacity-100",leave:"ease-in duration-200",leaveFrom:"opacity-100",leaveTo:"opacity-0",get children(){return W(En,{class:"fixed inset-0 bg-gray-900 bg-opacity-50"})}}),f),X(h,W(qt,{enter:"ease-out duration-300",enterFrom:"opacity-0 scale-95",enterTo:"opacity-100 scale-100",leave:"ease-in duration-200",leaveFrom:"opacity-100 scale-100",leaveTo:"opacity-0 scale-95",get children(){return W(Dn,{class:"inline-block w-full max-w-md p-6 my-8 overflow-hidden text-left align-middle transition-all transform bg-white shadow-xl rounded-2xl",get children(){return[W(Cn,{as:"h3",class:"text-lg font-medium leading-6 text-gray-900",get children(){return n.title}}),W(Ca,{get saveImage(){return n.saveImage},get aspectRatioWidth(){return e()},get aspectRatioHeight(){return r()},get closeModal(){return n.closeModal},get loading(){return n.loading}}),ve(()=>ve(()=>!n.hideRatioSelect)()&&(()=>{var p=_a();return p.addEventListener("change",o=>{const[s,c]=o.currentTarget.value.split(":");i(parseInt(s)),l(parseInt(c))}),Oe(()=>p.value=`${e()}:${r()}`),p})())]}})}}),null),h}})}})}function Ia(n,t){return t.forEach(function(a){a&&typeof a!="string"&&!Array.isArray(a)&&Object.keys(a).forEach(function(e){if(e!=="default"&&!(e in n)){var i=Object.getOwnPropertyDescriptor(a,e);Object.defineProperty(n,e,i.get?i:{enumerable:!0,get:function(){return a[e]}})}})}),Object.freeze(n)}function yi(n,t){return new Promise(function(a,e){let i;return Sa(n).then(function(r){try{return i=r,a(new Blob([t.slice(0,2),i,t.slice(2)],{type:"image/jpeg"}))}catch(l){return e(l)}},e)})}const Sa=n=>new Promise((t,a)=>{const e=new FileReader;e.addEventListener("load",({target:{result:i}})=>{const r=new DataView(i);let l=0;if(r.getUint16(l)!==65496)return a("not a valid JPEG");for(l+=2;;){const h=r.getUint16(l);if(h===65498)break;const f=r.getUint16(l+2);if(h===65505&&r.getUint32(l+4)===1165519206){const p=l+10;let o;switch(r.getUint16(p)){case 18761:o=!0;break;case 19789:o=!1;break;default:return a("TIFF header contains invalid endian")}if(r.getUint16(p+2,o)!==42)return a("TIFF header contains invalid version");const s=r.getUint32(p+4,o),c=p+s+2+12*r.getUint16(p+s,o);for(let u=p+s+2;u<c;u+=12)if(r.getUint16(u,o)==274){if(r.getUint16(u+2,o)!==3)return a("Orientation data type is invalid");if(r.getUint32(u+4,o)!==1)return a("Orientation data count is invalid");r.setUint16(u+8,1,o);break}return t(i.slice(l,l+2+f))}l+=2+f}return t(new Blob)}),e.readAsArrayBuffer(n)});var It={},Oa={get exports(){return It},set exports(n){It=n}};(function(n){var t,a,e={};Oa.exports=e,e.parse=function(i,r){for(var l=e.bin.readUshort,h=e.bin.readUint,f=0,p={},o=new Uint8Array(i),s=o.length-4;h(o,s)!=101010256;)s--;f=s,f+=4;var c=l(o,f+=4);l(o,f+=2);var u=h(o,f+=2),w=h(o,f+=4);f+=4,f=w;for(var C=0;C<c;C++){h(o,f),f+=4,f+=4,f+=4,h(o,f+=4),u=h(o,f+=4);var T=h(o,f+=4),A=l(o,f+=4),P=l(o,f+2),k=l(o,f+4);f+=6;var O=h(o,f+=8);f+=4,f+=A+P+k,e._readLocal(o,O,p,u,T,r)}return p},e._readLocal=function(i,r,l,h,f,p){var o=e.bin.readUshort,s=e.bin.readUint;s(i,r),o(i,r+=4),o(i,r+=2);var c=o(i,r+=2);s(i,r+=2),s(i,r+=4),r+=4;var u=o(i,r+=8),w=o(i,r+=2);r+=2;var C=e.bin.readUTF8(i,r,u);if(r+=u,r+=w,p)l[C]={size:f,csize:h};else{var T=new Uint8Array(i.buffer,r);if(c==0)l[C]=new Uint8Array(T.buffer.slice(r,r+h));else{if(c!=8)throw"unknown compression method: "+c;var A=new Uint8Array(f);e.inflateRaw(T,A),l[C]=A}}},e.inflateRaw=function(i,r){return e.F.inflate(i,r)},e.inflate=function(i,r){return i[0],i[1],e.inflateRaw(new Uint8Array(i.buffer,i.byteOffset+2,i.length-6),r)},e.deflate=function(i,r){r==null&&(r={level:6});var l=0,h=new Uint8Array(50+Math.floor(1.1*i.length));h[l]=120,h[l+1]=156,l+=2,l=e.F.deflateRaw(i,h,l,r.level);var f=e.adler(i,0,i.length);return h[l+0]=f>>>24&255,h[l+1]=f>>>16&255,h[l+2]=f>>>8&255,h[l+3]=f>>>0&255,new Uint8Array(h.buffer,0,l+4)},e.deflateRaw=function(i,r){r==null&&(r={level:6});var l=new Uint8Array(50+Math.floor(1.1*i.length)),h=e.F.deflateRaw(i,l,h,r.level);return new Uint8Array(l.buffer,0,h)},e.encode=function(i,r){r==null&&(r=!1);var l=0,h=e.bin.writeUint,f=e.bin.writeUshort,p={};for(var o in i){var s=!e._noNeed(o)&&!r,c=i[o],u=e.crc.crc(c,0,c.length);p[o]={cpr:s,usize:c.length,crc:u,file:s?e.deflateRaw(c):c}}for(var o in p)l+=p[o].file.length+30+46+2*e.bin.sizeUTF8(o);l+=22;var w=new Uint8Array(l),C=0,T=[];for(var o in p){var A=p[o];T.push(C),C=e._writeHeader(w,C,o,A,0)}var P=0,k=C;for(var o in p)A=p[o],T.push(C),C=e._writeHeader(w,C,o,A,1,T[P++]);var O=C-k;return h(w,C,101010256),C+=4,f(w,C+=4,P),f(w,C+=2,P),h(w,C+=2,O),h(w,C+=4,k),C+=4,C+=2,w.buffer},e._noNeed=function(i){var r=i.split(".").pop().toLowerCase();return"png,jpg,jpeg,zip".indexOf(r)!=-1},e._writeHeader=function(i,r,l,h,f,p){var o=e.bin.writeUint,s=e.bin.writeUshort,c=h.file;return o(i,r,f==0?67324752:33639248),r+=4,f==1&&(r+=2),s(i,r,20),s(i,r+=2,0),s(i,r+=2,h.cpr?8:0),o(i,r+=2,0),o(i,r+=4,h.crc),o(i,r+=4,c.length),o(i,r+=4,h.usize),s(i,r+=4,e.bin.sizeUTF8(l)),s(i,r+=2,0),r+=2,f==1&&(r+=2,r+=2,o(i,r+=6,p),r+=4),r+=e.bin.writeUTF8(i,r,l),f==0&&(i.set(c,r),r+=c.length),r},e.crc={table:function(){for(var i=new Uint32Array(256),r=0;r<256;r++){for(var l=r,h=0;h<8;h++)1&l?l=3988292384^l>>>1:l>>>=1;i[r]=l}return i}(),update:function(i,r,l,h){for(var f=0;f<h;f++)i=e.crc.table[255&(i^r[l+f])]^i>>>8;return i},crc:function(i,r,l){return 4294967295^e.crc.update(4294967295,i,r,l)}},e.adler=function(i,r,l){for(var h=1,f=0,p=r,o=r+l;p<o;){for(var s=Math.min(p+5552,o);p<s;)f+=h+=i[p++];h%=65521,f%=65521}return f<<16|h},e.bin={readUshort:function(i,r){return i[r]|i[r+1]<<8},writeUshort:function(i,r,l){i[r]=255&l,i[r+1]=l>>8&255},readUint:function(i,r){return 16777216*i[r+3]+(i[r+2]<<16|i[r+1]<<8|i[r])},writeUint:function(i,r,l){i[r]=255&l,i[r+1]=l>>8&255,i[r+2]=l>>16&255,i[r+3]=l>>24&255},readASCII:function(i,r,l){for(var h="",f=0;f<l;f++)h+=String.fromCharCode(i[r+f]);return h},writeASCII:function(i,r,l){for(var h=0;h<l.length;h++)i[r+h]=l.charCodeAt(h)},pad:function(i){return i.length<2?"0"+i:i},readUTF8:function(i,r,l){for(var h,f="",p=0;p<l;p++)f+="%"+e.bin.pad(i[r+p].toString(16));try{h=decodeURIComponent(f)}catch{return e.bin.readASCII(i,r,l)}return h},writeUTF8:function(i,r,l){for(var h=l.length,f=0,p=0;p<h;p++){var o=l.charCodeAt(p);if((4294967168&o)==0)i[r+f]=o,f++;else if((4294965248&o)==0)i[r+f]=192|o>>6,i[r+f+1]=128|o>>0&63,f+=2;else if((4294901760&o)==0)i[r+f]=224|o>>12,i[r+f+1]=128|o>>6&63,i[r+f+2]=128|o>>0&63,f+=3;else{if((4292870144&o)!=0)throw"e";i[r+f]=240|o>>18,i[r+f+1]=128|o>>12&63,i[r+f+2]=128|o>>6&63,i[r+f+3]=128|o>>0&63,f+=4}}return f},sizeUTF8:function(i){for(var r=i.length,l=0,h=0;h<r;h++){var f=i.charCodeAt(h);if((4294967168&f)==0)l++;else if((4294965248&f)==0)l+=2;else if((4294901760&f)==0)l+=3;else{if((4292870144&f)!=0)throw"e";l+=4}}return l}},e.F={},e.F.deflateRaw=function(i,r,l,h){var f=[[0,0,0,0,0],[4,4,8,4,0],[4,5,16,8,0],[4,6,16,16,0],[4,10,16,32,0],[8,16,32,32,0],[8,16,128,128,0],[8,32,128,256,0],[32,128,258,1024,1],[32,258,258,4096,1]][h],p=e.F.U,o=e.F._goodIndex;e.F._hash;var s=e.F._putsE,c=0,u=l<<3,w=0,C=i.length;if(h==0){for(;c<C;)s(r,u,c+(D=Math.min(65535,C-c))==C?1:0),u=e.F._copyExact(i,c,D,r,u+8),c+=D;return u>>>3}var T=p.lits,A=p.strt,P=p.prev,k=0,O=0,U=0,m=0,I=0,g=0;for(C>2&&(A[g=e.F._hash(i,0)]=0),c=0;c<C;c++){if(I=g,c+1<C-2){g=e.F._hash(i,c+1);var d=c+1&32767;P[d]=A[g],A[g]=d}if(w<=c){(k>14e3||O>26697)&&C-c>100&&(w<c&&(T[k]=c-w,k+=2,w=c),u=e.F._writeBlock(c==C-1||w==C?1:0,T,k,m,i,U,c-U,r,u),k=O=m=0,U=c);var y=0;c<C-2&&(y=e.F._bestMatch(i,c,P,I,Math.min(f[2],C-c),f[3]));var D=y>>>16,E=65535&y;if(y!=0){E=65535&y;var _=o(D=y>>>16,p.of0);p.lhst[257+_]++;var x=o(E,p.df0);p.dhst[x]++,m+=p.exb[_]+p.dxb[x],T[k]=D<<23|c-w,T[k+1]=E<<16|_<<8|x,k+=2,w=c+D}else p.lhst[i[c]]++;O++}}for(U==c&&i.length!=0||(w<c&&(T[k]=c-w,k+=2,w=c),u=e.F._writeBlock(1,T,k,m,i,U,c-U,r,u),k=0,O=0,k=O=m=0,U=c);(7&u)!=0;)u++;return u>>>3},e.F._bestMatch=function(i,r,l,h,f,p){var o=32767&r,s=l[o],c=o-s+32768&32767;if(s==o||h!=e.F._hash(i,r-c))return 0;for(var u=0,w=0,C=Math.min(32767,r);c<=C&&--p!=0&&s!=o;){if(u==0||i[r+u]==i[r+u-c]){var T=e.F._howLong(i,r,c);if(T>u){if(w=c,(u=T)>=f)break;c+2<T&&(T=c+2);for(var A=0,P=0;P<T-2;P++){var k=r-c+P+32768&32767,O=k-l[k]+32768&32767;O>A&&(A=O,s=k)}}}c+=(o=s)-(s=l[o])+32768&32767}return u<<16|w},e.F._howLong=function(i,r,l){if(i[r]!=i[r-l]||i[r+1]!=i[r+1-l]||i[r+2]!=i[r+2-l])return 0;var h=r,f=Math.min(i.length,r+258);for(r+=3;r<f&&i[r]==i[r-l];)r++;return r-h},e.F._hash=function(i,r){return(i[r]<<8|i[r+1])+(i[r+2]<<4)&65535},e.saved=0,e.F._writeBlock=function(i,r,l,h,f,p,o,s,c){var u,w,C,T,A,P,k,O,U,m=e.F.U,I=e.F._putsF,g=e.F._putsE;m.lhst[256]++,w=(u=e.F.getTrees())[0],C=u[1],T=u[2],A=u[3],P=u[4],k=u[5],O=u[6],U=u[7];var d=32+((c+3&7)==0?0:8-(c+3&7))+(o<<3),y=h+e.F.contSize(m.fltree,m.lhst)+e.F.contSize(m.fdtree,m.dhst),D=h+e.F.contSize(m.ltree,m.lhst)+e.F.contSize(m.dtree,m.dhst);D+=14+3*k+e.F.contSize(m.itree,m.ihst)+(2*m.ihst[16]+3*m.ihst[17]+7*m.ihst[18]);for(var E=0;E<286;E++)m.lhst[E]=0;for(E=0;E<30;E++)m.dhst[E]=0;for(E=0;E<19;E++)m.ihst[E]=0;var _=d<y&&d<D?0:y<D?1:2;if(I(s,c,i),I(s,c+1,_),c+=3,_==0){for(;(7&c)!=0;)c++;c=e.F._copyExact(f,p,o,s,c)}else{var x,M;if(_==1&&(x=m.fltree,M=m.fdtree),_==2){e.F.makeCodes(m.ltree,w),e.F.revCodes(m.ltree,w),e.F.makeCodes(m.dtree,C),e.F.revCodes(m.dtree,C),e.F.makeCodes(m.itree,T),e.F.revCodes(m.itree,T),x=m.ltree,M=m.dtree,g(s,c,A-257),g(s,c+=5,P-1),g(s,c+=5,k-4),c+=4;for(var b=0;b<k;b++)g(s,c+3*b,m.itree[1+(m.ordr[b]<<1)]);c+=3*k,c=e.F._codeTiny(O,m.itree,s,c),c=e.F._codeTiny(U,m.itree,s,c)}for(var v=p,N=0;N<l;N+=2){for(var S=r[N],L=S>>>23,B=v+(8388607&S);v<B;)c=e.F._writeLit(f[v++],x,s,c);if(L!=0){var F=r[N+1],H=F>>16,$=F>>8&255,R=255&F;g(s,c=e.F._writeLit(257+$,x,s,c),L-m.of0[$]),c+=m.exb[$],I(s,c=e.F._writeLit(R,M,s,c),H-m.df0[R]),c+=m.dxb[R],v+=L}}c=e.F._writeLit(256,x,s,c)}return c},e.F._copyExact=function(i,r,l,h,f){var p=f>>>3;return h[p]=l,h[p+1]=l>>>8,h[p+2]=255-h[p],h[p+3]=255-h[p+1],p+=4,h.set(new Uint8Array(i.buffer,r,l),p),f+(l+4<<3)},e.F.getTrees=function(){for(var i=e.F.U,r=e.F._hufTree(i.lhst,i.ltree,15),l=e.F._hufTree(i.dhst,i.dtree,15),h=[],f=e.F._lenCodes(i.ltree,h),p=[],o=e.F._lenCodes(i.dtree,p),s=0;s<h.length;s+=2)i.ihst[h[s]]++;for(s=0;s<p.length;s+=2)i.ihst[p[s]]++;for(var c=e.F._hufTree(i.ihst,i.itree,7),u=19;u>4&&i.itree[1+(i.ordr[u-1]<<1)]==0;)u--;return[r,l,c,f,o,u,h,p]},e.F.getSecond=function(i){for(var r=[],l=0;l<i.length;l+=2)r.push(i[l+1]);return r},e.F.nonZero=function(i){for(var r="",l=0;l<i.length;l+=2)i[l+1]!=0&&(r+=(l>>1)+",");return r},e.F.contSize=function(i,r){for(var l=0,h=0;h<r.length;h++)l+=r[h]*i[1+(h<<1)];return l},e.F._codeTiny=function(i,r,l,h){for(var f=0;f<i.length;f+=2){var p=i[f],o=i[f+1];h=e.F._writeLit(p,r,l,h);var s=p==16?2:p==17?3:7;p>15&&(e.F._putsE(l,h,o,s),h+=s)}return h},e.F._lenCodes=function(i,r){for(var l=i.length;l!=2&&i[l-1]==0;)l-=2;for(var h=0;h<l;h+=2){var f=i[h+1],p=h+3<l?i[h+3]:-1,o=h+5<l?i[h+5]:-1,s=h==0?-1:i[h-1];if(f==0&&p==f&&o==f){for(var c=h+5;c+2<l&&i[c+2]==f;)c+=2;(u=Math.min(c+1-h>>>1,138))<11?r.push(17,u-3):r.push(18,u-11),h+=2*u-2}else if(f==s&&p==f&&o==f){for(c=h+5;c+2<l&&i[c+2]==f;)c+=2;var u=Math.min(c+1-h>>>1,6);r.push(16,u-3),h+=2*u-2}else r.push(f,0)}return l>>>1},e.F._hufTree=function(i,r,l){var h=[],f=i.length,p=r.length,o=0;for(o=0;o<p;o+=2)r[o]=0,r[o+1]=0;for(o=0;o<f;o++)i[o]!=0&&h.push({lit:o,f:i[o]});var s=h.length,c=h.slice(0);if(s==0)return 0;if(s==1){var u=h[0].lit;return c=u==0?1:0,r[1+(u<<1)]=1,r[1+(c<<1)]=1,1}h.sort(function(O,U){return O.f-U.f});var w=h[0],C=h[1],T=0,A=1,P=2;for(h[0]={lit:-1,f:w.f+C.f,l:w,r:C,d:0};A!=s-1;)w=T!=A&&(P==s||h[T].f<h[P].f)?h[T++]:h[P++],C=T!=A&&(P==s||h[T].f<h[P].f)?h[T++]:h[P++],h[A++]={lit:-1,f:w.f+C.f,l:w,r:C};var k=e.F.setDepth(h[A-1],0);for(k>l&&(e.F.restrictDepth(c,l,k),k=l),o=0;o<s;o++)r[1+(c[o].lit<<1)]=c[o].d;return k},e.F.setDepth=function(i,r){return i.lit!=-1?(i.d=r,r):Math.max(e.F.setDepth(i.l,r+1),e.F.setDepth(i.r,r+1))},e.F.restrictDepth=function(i,r,l){var h=0,f=1<<l-r,p=0;for(i.sort(function(s,c){return c.d==s.d?s.f-c.f:c.d-s.d}),h=0;h<i.length&&i[h].d>r;h++){var o=i[h].d;i[h].d=r,p+=f-(1<<l-o)}for(p>>>=l-r;p>0;)(o=i[h].d)<r?(i[h].d++,p-=1<<r-o-1):h++;for(;h>=0;h--)i[h].d==r&&p<0&&(i[h].d--,p++);p!=0&&console.log("debt left")},e.F._goodIndex=function(i,r){var l=0;return r[16|l]<=i&&(l|=16),r[8|l]<=i&&(l|=8),r[4|l]<=i&&(l|=4),r[2|l]<=i&&(l|=2),r[1|l]<=i&&(l|=1),l},e.F._writeLit=function(i,r,l,h){return e.F._putsF(l,h,r[i<<1]),h+r[1+(i<<1)]},e.F.inflate=function(i,r){var l=Uint8Array;if(i[0]==3&&i[1]==0)return r||new l(0);var h=e.F,f=h._bitsF,p=h._bitsE,o=h._decodeTiny,s=h.makeCodes,c=h.codes2map,u=h._get17,w=h.U,C=r==null;C&&(r=new l(i.length>>>2<<3));for(var T,A,P=0,k=0,O=0,U=0,m=0,I=0,g=0,d=0,y=0;P==0;)if(P=f(i,y,1),k=f(i,y+1,2),y+=3,k!=0){if(C&&(r=e.F._check(r,d+(1<<17))),k==1&&(T=w.flmap,A=w.fdmap,I=511,g=31),k==2){O=p(i,y,5)+257,U=p(i,y+5,5)+1,m=p(i,y+10,4)+4,y+=14;for(var D=0;D<38;D+=2)w.itree[D]=0,w.itree[D+1]=0;var E=1;for(D=0;D<m;D++){var _=p(i,y+3*D,3);w.itree[1+(w.ordr[D]<<1)]=_,_>E&&(E=_)}y+=3*m,s(w.itree,E),c(w.itree,E,w.imap),T=w.lmap,A=w.dmap,y=o(w.imap,(1<<E)-1,O+U,i,y,w.ttree);var x=h._copyOut(w.ttree,0,O,w.ltree);I=(1<<x)-1;var M=h._copyOut(w.ttree,O,U,w.dtree);g=(1<<M)-1,s(w.ltree,x),c(w.ltree,x,T),s(w.dtree,M),c(w.dtree,M,A)}for(;;){var b=T[u(i,y)&I];y+=15&b;var v=b>>>4;if(!(v>>>8))r[d++]=v;else{if(v==256)break;var N=d+v-254;if(v>264){var S=w.ldef[v-257];N=d+(S>>>3)+p(i,y,7&S),y+=7&S}var L=A[u(i,y)&g];y+=15&L;var B=L>>>4,F=w.ddef[B],H=(F>>>4)+f(i,y,15&F);for(y+=15&F,C&&(r=e.F._check(r,d+(1<<17)));d<N;)r[d]=r[d++-H],r[d]=r[d++-H],r[d]=r[d++-H],r[d]=r[d++-H];d=N}}}else{(7&y)!=0&&(y+=8-(7&y));var $=4+(y>>>3),R=i[$-4]|i[$-3]<<8;C&&(r=e.F._check(r,d+R)),r.set(new l(i.buffer,i.byteOffset+$,R),d),y=$+R<<3,d+=R}return r.length==d?r:r.slice(0,d)},e.F._check=function(i,r){var l=i.length;if(r<=l)return i;var h=new Uint8Array(Math.max(l<<1,r));return h.set(i,0),h},e.F._decodeTiny=function(i,r,l,h,f,p){for(var o=e.F._bitsE,s=e.F._get17,c=0;c<l;){var u=i[s(h,f)&r];f+=15&u;var w=u>>>4;if(w<=15)p[c]=w,c++;else{var C=0,T=0;w==16?(T=3+o(h,f,2),f+=2,C=p[c-1]):w==17?(T=3+o(h,f,3),f+=3):w==18&&(T=11+o(h,f,7),f+=7);for(var A=c+T;c<A;)p[c]=C,c++}}return f},e.F._copyOut=function(i,r,l,h){for(var f=0,p=0,o=h.length>>>1;p<l;){var s=i[p+r];h[p<<1]=0,h[1+(p<<1)]=s,s>f&&(f=s),p++}for(;p<o;)h[p<<1]=0,h[1+(p<<1)]=0,p++;return f},e.F.makeCodes=function(i,r){for(var l,h,f,p,o=e.F.U,s=i.length,c=o.bl_count,u=0;u<=r;u++)c[u]=0;for(u=1;u<s;u+=2)c[i[u]]++;var w=o.next_code;for(l=0,c[0]=0,h=1;h<=r;h++)l=l+c[h-1]<<1,w[h]=l;for(f=0;f<s;f+=2)(p=i[f+1])!=0&&(i[f]=w[p],w[p]++)},e.F.codes2map=function(i,r,l){for(var h=i.length,f=e.F.U.rev15,p=0;p<h;p+=2)if(i[p+1]!=0)for(var o=p>>1,s=i[p+1],c=o<<4|s,u=r-s,w=i[p]<<u,C=w+(1<<u);w!=C;)l[f[w]>>>15-r]=c,w++},e.F.revCodes=function(i,r){for(var l=e.F.U.rev15,h=15-r,f=0;f<i.length;f+=2){var p=i[f]<<r-i[f+1];i[f]=l[p]>>>h}},e.F._putsE=function(i,r,l){l<<=7&r;var h=r>>>3;i[h]|=l,i[h+1]|=l>>>8},e.F._putsF=function(i,r,l){l<<=7&r;var h=r>>>3;i[h]|=l,i[h+1]|=l>>>8,i[h+2]|=l>>>16},e.F._bitsE=function(i,r,l){return(i[r>>>3]|i[1+(r>>>3)]<<8)>>>(7&r)&(1<<l)-1},e.F._bitsF=function(i,r,l){return(i[r>>>3]|i[1+(r>>>3)]<<8|i[2+(r>>>3)]<<16)>>>(7&r)&(1<<l)-1},e.F._get17=function(i,r){return(i[r>>>3]|i[1+(r>>>3)]<<8|i[2+(r>>>3)]<<16)>>>(7&r)},e.F._get25=function(i,r){return(i[r>>>3]|i[1+(r>>>3)]<<8|i[2+(r>>>3)]<<16|i[3+(r>>>3)]<<24)>>>(7&r)},e.F.U=(t=Uint16Array,a=Uint32Array,{next_code:new t(16),bl_count:new t(16),ordr:[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],of0:[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,999,999,999],exb:[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0],ldef:new t(32),df0:[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,65535,65535],dxb:[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0],ddef:new a(32),flmap:new t(512),fltree:[],fdmap:new t(32),fdtree:[],lmap:new t(32768),ltree:[],ttree:[],dmap:new t(32768),dtree:[],imap:new t(512),itree:[],rev15:new t(32768),lhst:new a(286),dhst:new a(30),ihst:new a(19),lits:new a(15e3),strt:new t(65536),prev:new t(32768)}),function(){for(var i=e.F.U,r=0;r<32768;r++){var l=r;l=(4278255360&(l=(4042322160&(l=(3435973836&(l=(2863311530&l)>>>1|(1431655765&l)<<1))>>>2|(858993459&l)<<2))>>>4|(252645135&l)<<4))>>>8|(16711935&l)<<8,i.rev15[r]=(l>>>16|l<<16)>>>17}function h(f,p,o){for(;p--!=0;)f.push(0,o)}for(r=0;r<32;r++)i.ldef[r]=i.of0[r]<<3|i.exb[r],i.ddef[r]=i.df0[r]<<4|i.dxb[r];h(i.fltree,144,8),h(i.fltree,112,9),h(i.fltree,24,7),h(i.fltree,8,8),e.F.makeCodes(i.fltree,9),e.F.codes2map(i.fltree,9,i.flmap),e.F.revCodes(i.fltree,9),h(i.fdtree,32,5),e.F.makeCodes(i.fdtree,5),e.F.codes2map(i.fdtree,5,i.fdmap),e.F.revCodes(i.fdtree,5),h(i.itree,19,0),h(i.ltree,286,0),h(i.dtree,30,0),h(i.ttree,320,0)}()})();var ka=Ia({__proto__:null,default:It},[It]);const _e=function(){var n={nextZero(o,s){for(;o[s]!=0;)s++;return s},readUshort:(o,s)=>o[s]<<8|o[s+1],writeUshort(o,s,c){o[s]=c>>8&255,o[s+1]=255&c},readUint:(o,s)=>16777216*o[s]+(o[s+1]<<16|o[s+2]<<8|o[s+3]),writeUint(o,s,c){o[s]=c>>24&255,o[s+1]=c>>16&255,o[s+2]=c>>8&255,o[s+3]=255&c},readASCII(o,s,c){let u="";for(let w=0;w<c;w++)u+=String.fromCharCode(o[s+w]);return u},writeASCII(o,s,c){for(let u=0;u<c.length;u++)o[s+u]=c.charCodeAt(u)},readBytes(o,s,c){const u=[];for(let w=0;w<c;w++)u.push(o[s+w]);return u},pad:o=>o.length<2?`0${o}`:o,readUTF8(o,s,c){let u,w="";for(let C=0;C<c;C++)w+=`%${n.pad(o[s+C].toString(16))}`;try{u=decodeURIComponent(w)}catch{return n.readASCII(o,s,c)}return u}};function t(o,s,c,u){const w=s*c,C=r(u),T=Math.ceil(s*C/8),A=new Uint8Array(4*w),P=new Uint32Array(A.buffer),{ctype:k}=u,{depth:O}=u,U=n.readUshort;if(k==6){const S=w<<2;if(O==8)for(var m=0;m<S;m+=4)A[m]=o[m],A[m+1]=o[m+1],A[m+2]=o[m+2],A[m+3]=o[m+3];if(O==16)for(m=0;m<S;m++)A[m]=o[m<<1]}else if(k==2){const S=u.tabs.tRNS;if(S==null){if(O==8)for(m=0;m<w;m++){var I=3*m;P[m]=255<<24|o[I+2]<<16|o[I+1]<<8|o[I]}if(O==16)for(m=0;m<w;m++)I=6*m,P[m]=255<<24|o[I+4]<<16|o[I+2]<<8|o[I]}else{var g=S[0];const L=S[1],B=S[2];if(O==8)for(m=0;m<w;m++){var d=m<<2;I=3*m,P[m]=255<<24|o[I+2]<<16|o[I+1]<<8|o[I],o[I]==g&&o[I+1]==L&&o[I+2]==B&&(A[d+3]=0)}if(O==16)for(m=0;m<w;m++)d=m<<2,I=6*m,P[m]=255<<24|o[I+4]<<16|o[I+2]<<8|o[I],U(o,I)==g&&U(o,I+2)==L&&U(o,I+4)==B&&(A[d+3]=0)}}else if(k==3){const S=u.tabs.PLTE,L=u.tabs.tRNS,B=L?L.length:0;if(O==1)for(var y=0;y<c;y++){var D=y*T,E=y*s;for(m=0;m<s;m++){d=E+m<<2;var _=3*(x=o[D+(m>>3)]>>7-((7&m)<<0)&1);A[d]=S[_],A[d+1]=S[_+1],A[d+2]=S[_+2],A[d+3]=x<B?L[x]:255}}if(O==2)for(y=0;y<c;y++)for(D=y*T,E=y*s,m=0;m<s;m++)d=E+m<<2,_=3*(x=o[D+(m>>2)]>>6-((3&m)<<1)&3),A[d]=S[_],A[d+1]=S[_+1],A[d+2]=S[_+2],A[d+3]=x<B?L[x]:255;if(O==4)for(y=0;y<c;y++)for(D=y*T,E=y*s,m=0;m<s;m++)d=E+m<<2,_=3*(x=o[D+(m>>1)]>>4-((1&m)<<2)&15),A[d]=S[_],A[d+1]=S[_+1],A[d+2]=S[_+2],A[d+3]=x<B?L[x]:255;if(O==8)for(m=0;m<w;m++){var x;d=m<<2,_=3*(x=o[m]),A[d]=S[_],A[d+1]=S[_+1],A[d+2]=S[_+2],A[d+3]=x<B?L[x]:255}}else if(k==4){if(O==8)for(m=0;m<w;m++){d=m<<2;var M=o[b=m<<1];A[d]=M,A[d+1]=M,A[d+2]=M,A[d+3]=o[b+1]}if(O==16)for(m=0;m<w;m++){var b;d=m<<2,M=o[b=m<<2],A[d]=M,A[d+1]=M,A[d+2]=M,A[d+3]=o[b+2]}}else if(k==0)for(g=u.tabs.tRNS?u.tabs.tRNS:-1,y=0;y<c;y++){const S=y*T,L=y*s;if(O==1)for(var v=0;v<s;v++){var N=(M=255*(o[S+(v>>>3)]>>>7-(7&v)&1))==255*g?0:255;P[L+v]=N<<24|M<<16|M<<8|M}else if(O==2)for(v=0;v<s;v++)N=(M=85*(o[S+(v>>>2)]>>>6-((3&v)<<1)&3))==85*g?0:255,P[L+v]=N<<24|M<<16|M<<8|M;else if(O==4)for(v=0;v<s;v++)N=(M=17*(o[S+(v>>>1)]>>>4-((1&v)<<2)&15))==17*g?0:255,P[L+v]=N<<24|M<<16|M<<8|M;else if(O==8)for(v=0;v<s;v++)N=(M=o[S+v])==g?0:255,P[L+v]=N<<24|M<<16|M<<8|M;else if(O==16)for(v=0;v<s;v++)M=o[S+(v<<1)],N=U(o,S+(v<<1))==g?0:255,P[L+v]=N<<24|M<<16|M<<8|M}return A}function a(o,s,c,u){const w=r(o),C=Math.ceil(c*w/8),T=new Uint8Array((C+1+o.interlace)*u);return s=o.tabs.CgBI?i(s,T):e(s,T),o.interlace==0?s=l(s,o,0,c,u):o.interlace==1&&(s=function(P,k){const O=k.width,U=k.height,m=r(k),I=m>>3,g=Math.ceil(O*m/8),d=new Uint8Array(U*g);let y=0;const D=[0,0,4,0,2,0,1],E=[0,4,0,2,0,1,0],_=[8,8,8,4,4,2,2],x=[8,8,4,4,2,2,1];let M=0;for(;M<7;){const v=_[M],N=x[M];let S=0,L=0,B=D[M];for(;B<U;)B+=v,L++;let F=E[M];for(;F<O;)F+=N,S++;const H=Math.ceil(S*m/8);l(P,k,y,S,L);let $=0,R=D[M];for(;R<U;){let z=E[M],K=y+$*H<<3;for(;z<O;){var b;if(m==1&&(b=(b=P[K>>3])>>7-(7&K)&1,d[R*g+(z>>3)]|=b<<7-((7&z)<<0)),m==2&&(b=(b=P[K>>3])>>6-(7&K)&3,d[R*g+(z>>2)]|=b<<6-((3&z)<<1)),m==4&&(b=(b=P[K>>3])>>4-(7&K)&15,d[R*g+(z>>1)]|=b<<4-((1&z)<<2)),m>=8){const q=R*g+z*I;for(let j=0;j<I;j++)d[q+j]=P[(K>>3)+j]}K+=m,z+=N}$++,R+=v}S*L!=0&&(y+=L*(1+H)),M+=1}return d}(s,o)),s}function e(o,s){return i(new Uint8Array(o.buffer,2,o.length-6),s)}var i=function(){const o={H:{}};return o.H.N=function(s,c){const u=Uint8Array;let w,C,T=0,A=0,P=0,k=0,O=0,U=0,m=0,I=0,g=0;if(s[0]==3&&s[1]==0)return c||new u(0);const d=o.H,y=d.b,D=d.e,E=d.R,_=d.n,x=d.A,M=d.Z,b=d.m,v=c==null;for(v&&(c=new u(s.length>>>2<<5));T==0;)if(T=y(s,g,1),A=y(s,g+1,2),g+=3,A!=0){if(v&&(c=o.H.W(c,I+(1<<17))),A==1&&(w=b.J,C=b.h,U=511,m=31),A==2){P=D(s,g,5)+257,k=D(s,g+5,5)+1,O=D(s,g+10,4)+4,g+=14;let S=1;for(var N=0;N<38;N+=2)b.Q[N]=0,b.Q[N+1]=0;for(N=0;N<O;N++){const F=D(s,g+3*N,3);b.Q[1+(b.X[N]<<1)]=F,F>S&&(S=F)}g+=3*O,_(b.Q,S),x(b.Q,S,b.u),w=b.w,C=b.d,g=E(b.u,(1<<S)-1,P+k,s,g,b.v);const L=d.V(b.v,0,P,b.C);U=(1<<L)-1;const B=d.V(b.v,P,k,b.D);m=(1<<B)-1,_(b.C,L),x(b.C,L,w),_(b.D,B),x(b.D,B,C)}for(;;){const S=w[M(s,g)&U];g+=15&S;const L=S>>>4;if(!(L>>>8))c[I++]=L;else{if(L==256)break;{let B=I+L-254;if(L>264){const z=b.q[L-257];B=I+(z>>>3)+D(s,g,7&z),g+=7&z}const F=C[M(s,g)&m];g+=15&F;const H=F>>>4,$=b.c[H],R=($>>>4)+y(s,g,15&$);for(g+=15&$;I<B;)c[I]=c[I++-R],c[I]=c[I++-R],c[I]=c[I++-R],c[I]=c[I++-R];I=B}}}}else{(7&g)!=0&&(g+=8-(7&g));const S=4+(g>>>3),L=s[S-4]|s[S-3]<<8;v&&(c=o.H.W(c,I+L)),c.set(new u(s.buffer,s.byteOffset+S,L),I),g=S+L<<3,I+=L}return c.length==I?c:c.slice(0,I)},o.H.W=function(s,c){const u=s.length;if(c<=u)return s;const w=new Uint8Array(u<<1);return w.set(s,0),w},o.H.R=function(s,c,u,w,C,T){const A=o.H.e,P=o.H.Z;let k=0;for(;k<u;){const O=s[P(w,C)&c];C+=15&O;const U=O>>>4;if(U<=15)T[k]=U,k++;else{let m=0,I=0;U==16?(I=3+A(w,C,2),C+=2,m=T[k-1]):U==17?(I=3+A(w,C,3),C+=3):U==18&&(I=11+A(w,C,7),C+=7);const g=k+I;for(;k<g;)T[k]=m,k++}}return C},o.H.V=function(s,c,u,w){let C=0,T=0;const A=w.length>>>1;for(;T<u;){const P=s[T+c];w[T<<1]=0,w[1+(T<<1)]=P,P>C&&(C=P),T++}for(;T<A;)w[T<<1]=0,w[1+(T<<1)]=0,T++;return C},o.H.n=function(s,c){const u=o.H.m,w=s.length;let C,T,A,P;const k=u.j;for(var O=0;O<=c;O++)k[O]=0;for(O=1;O<w;O+=2)k[s[O]]++;const U=u.K;for(C=0,k[0]=0,T=1;T<=c;T++)C=C+k[T-1]<<1,U[T]=C;for(A=0;A<w;A+=2)P=s[A+1],P!=0&&(s[A]=U[P],U[P]++)},o.H.A=function(s,c,u){const w=s.length,C=o.H.m.r;for(let T=0;T<w;T+=2)if(s[T+1]!=0){const A=T>>1,P=s[T+1],k=A<<4|P,O=c-P;let U=s[T]<<O;const m=U+(1<<O);for(;U!=m;)u[C[U]>>>15-c]=k,U++}},o.H.l=function(s,c){const u=o.H.m.r,w=15-c;for(let C=0;C<s.length;C+=2){const T=s[C]<<c-s[C+1];s[C]=u[T]>>>w}},o.H.M=function(s,c,u){u<<=7&c;const w=c>>>3;s[w]|=u,s[w+1]|=u>>>8},o.H.I=function(s,c,u){u<<=7&c;const w=c>>>3;s[w]|=u,s[w+1]|=u>>>8,s[w+2]|=u>>>16},o.H.e=function(s,c,u){return(s[c>>>3]|s[1+(c>>>3)]<<8)>>>(7&c)&(1<<u)-1},o.H.b=function(s,c,u){return(s[c>>>3]|s[1+(c>>>3)]<<8|s[2+(c>>>3)]<<16)>>>(7&c)&(1<<u)-1},o.H.Z=function(s,c){return(s[c>>>3]|s[1+(c>>>3)]<<8|s[2+(c>>>3)]<<16)>>>(7&c)},o.H.i=function(s,c){return(s[c>>>3]|s[1+(c>>>3)]<<8|s[2+(c>>>3)]<<16|s[3+(c>>>3)]<<24)>>>(7&c)},o.H.m=function(){const s=Uint16Array,c=Uint32Array;return{K:new s(16),j:new s(16),X:[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],S:[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,999,999,999],T:[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0],q:new s(32),p:[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,65535,65535],z:[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0],c:new c(32),J:new s(512),_:[],h:new s(32),$:[],w:new s(32768),C:[],v:[],d:new s(32768),D:[],u:new s(512),Q:[],r:new s(32768),s:new c(286),Y:new c(30),a:new c(19),t:new c(15e3),k:new s(65536),g:new s(32768)}}(),function(){const s=o.H.m;for(var c=0;c<32768;c++){let w=c;w=(2863311530&w)>>>1|(1431655765&w)<<1,w=(3435973836&w)>>>2|(858993459&w)<<2,w=(4042322160&w)>>>4|(252645135&w)<<4,w=(4278255360&w)>>>8|(16711935&w)<<8,s.r[c]=(w>>>16|w<<16)>>>17}function u(w,C,T){for(;C--!=0;)w.push(0,T)}for(c=0;c<32;c++)s.q[c]=s.S[c]<<3|s.T[c],s.c[c]=s.p[c]<<4|s.z[c];u(s._,144,8),u(s._,112,9),u(s._,24,7),u(s._,8,8),o.H.n(s._,9),o.H.A(s._,9,s.J),o.H.l(s._,9),u(s.$,32,5),o.H.n(s.$,5),o.H.A(s.$,5,s.h),o.H.l(s.$,5),u(s.Q,19,0),u(s.C,286,0),u(s.D,30,0),u(s.v,320,0)}(),o.H.N}();function r(o){return[1,null,3,1,2,null,4][o.ctype]*o.depth}function l(o,s,c,u,w){let C=r(s);const T=Math.ceil(u*C/8);let A,P;C=Math.ceil(C/8);let k=o[c],O=0;if(k>1&&(o[c]=[0,0,1][k-2]),k==3)for(O=C;O<T;O++)o[O+1]=o[O+1]+(o[O+1-C]>>>1)&255;for(let U=0;U<w;U++)if(A=c+U*T,P=A+U+1,k=o[P-1],O=0,k==0)for(;O<T;O++)o[A+O]=o[P+O];else if(k==1){for(;O<C;O++)o[A+O]=o[P+O];for(;O<T;O++)o[A+O]=o[P+O]+o[A+O-C]}else if(k==2)for(;O<T;O++)o[A+O]=o[P+O]+o[A+O-T];else if(k==3){for(;O<C;O++)o[A+O]=o[P+O]+(o[A+O-T]>>>1);for(;O<T;O++)o[A+O]=o[P+O]+(o[A+O-T]+o[A+O-C]>>>1)}else{for(;O<C;O++)o[A+O]=o[P+O]+h(0,o[A+O-T],0);for(;O<T;O++)o[A+O]=o[P+O]+h(o[A+O-C],o[A+O-T],o[A+O-C-T])}return o}function h(o,s,c){const u=o+s-c,w=u-o,C=u-s,T=u-c;return w*w<=C*C&&w*w<=T*T?o:C*C<=T*T?s:c}function f(o,s,c){c.width=n.readUint(o,s),s+=4,c.height=n.readUint(o,s),s+=4,c.depth=o[s],s++,c.ctype=o[s],s++,c.compress=o[s],s++,c.filter=o[s],s++,c.interlace=o[s],s++}function p(o,s,c,u,w,C,T,A,P){const k=Math.min(s,w),O=Math.min(c,C);let U=0,m=0;for(let M=0;M<O;M++)for(let b=0;b<k;b++)if(T>=0&&A>=0?(U=M*s+b<<2,m=(A+M)*w+T+b<<2):(U=(-A+M)*s-T+b<<2,m=M*w+b<<2),P==0)u[m]=o[U],u[m+1]=o[U+1],u[m+2]=o[U+2],u[m+3]=o[U+3];else if(P==1){var I=o[U+3]*.00392156862745098,g=o[U]*I,d=o[U+1]*I,y=o[U+2]*I,D=u[m+3]*(1/255),E=u[m]*D,_=u[m+1]*D,x=u[m+2]*D;const v=1-I,N=I+D*v,S=N==0?0:1/N;u[m+3]=255*N,u[m+0]=(g+E*v)*S,u[m+1]=(d+_*v)*S,u[m+2]=(y+x*v)*S}else if(P==2)I=o[U+3],g=o[U],d=o[U+1],y=o[U+2],D=u[m+3],E=u[m],_=u[m+1],x=u[m+2],I==D&&g==E&&d==_&&y==x?(u[m]=0,u[m+1]=0,u[m+2]=0,u[m+3]=0):(u[m]=g,u[m+1]=d,u[m+2]=y,u[m+3]=I);else if(P==3){if(I=o[U+3],g=o[U],d=o[U+1],y=o[U+2],D=u[m+3],E=u[m],_=u[m+1],x=u[m+2],I==D&&g==E&&d==_&&y==x)continue;if(I<220&&D>20)return!1}return!0}return{decode:function(s){const c=new Uint8Array(s);let u=8;const w=n,C=w.readUshort,T=w.readUint,A={tabs:{},frames:[]},P=new Uint8Array(c.length);let k,O=0,U=0;const m=[137,80,78,71,13,10,26,10];for(var I=0;I<8;I++)if(c[I]!=m[I])throw"The input is not a PNG file!";for(;u<c.length;){const M=w.readUint(c,u);u+=4;const b=w.readASCII(c,u,4);if(u+=4,b=="IHDR")f(c,u,A);else if(b=="iCCP"){for(var g=u;c[g]!=0;)g++;w.readASCII(c,u,g-u),c[g+1];const v=c.slice(g+2,u+M);let N=null;try{N=e(v)}catch{N=i(v)}A.tabs[b]=N}else if(b=="CgBI")A.tabs[b]=c.slice(u,u+4);else if(b=="IDAT"){for(I=0;I<M;I++)P[O+I]=c[u+I];O+=M}else if(b=="acTL")A.tabs[b]={num_frames:T(c,u),num_plays:T(c,u+4)},k=new Uint8Array(c.length);else if(b=="fcTL"){U!=0&&((x=A.frames[A.frames.length-1]).data=a(A,k.slice(0,U),x.rect.width,x.rect.height),U=0);const v={x:T(c,u+12),y:T(c,u+16),width:T(c,u+4),height:T(c,u+8)};let N=C(c,u+22);N=C(c,u+20)/(N==0?100:N);const S={rect:v,delay:Math.round(1e3*N),dispose:c[u+24],blend:c[u+25]};A.frames.push(S)}else if(b=="fdAT"){for(I=0;I<M-4;I++)k[U+I]=c[u+I+4];U+=M-4}else if(b=="pHYs")A.tabs[b]=[w.readUint(c,u),w.readUint(c,u+4),c[u+8]];else if(b=="cHRM")for(A.tabs[b]=[],I=0;I<8;I++)A.tabs[b].push(w.readUint(c,u+4*I));else if(b=="tEXt"||b=="zTXt"){A.tabs[b]==null&&(A.tabs[b]={});var d=w.nextZero(c,u),y=w.readASCII(c,u,d-u),D=u+M-d-1;if(b=="tEXt")_=w.readASCII(c,d+1,D);else{var E=e(c.slice(d+2,d+2+D));_=w.readUTF8(E,0,E.length)}A.tabs[b][y]=_}else if(b=="iTXt"){A.tabs[b]==null&&(A.tabs[b]={}),d=0,g=u,d=w.nextZero(c,g),y=w.readASCII(c,g,d-g);const v=c[g=d+1];var _;c[g+1],g+=2,d=w.nextZero(c,g),w.readASCII(c,g,d-g),g=d+1,d=w.nextZero(c,g),w.readUTF8(c,g,d-g),D=M-((g=d+1)-u),v==0?_=w.readUTF8(c,g,D):(E=e(c.slice(g,g+D)),_=w.readUTF8(E,0,E.length)),A.tabs[b][y]=_}else if(b=="PLTE")A.tabs[b]=w.readBytes(c,u,M);else if(b=="hIST"){const v=A.tabs.PLTE.length/3;for(A.tabs[b]=[],I=0;I<v;I++)A.tabs[b].push(C(c,u+2*I))}else if(b=="tRNS")A.ctype==3?A.tabs[b]=w.readBytes(c,u,M):A.ctype==0?A.tabs[b]=C(c,u):A.ctype==2&&(A.tabs[b]=[C(c,u),C(c,u+2),C(c,u+4)]);else if(b=="gAMA")A.tabs[b]=w.readUint(c,u)/1e5;else if(b=="sRGB")A.tabs[b]=c[u];else if(b=="bKGD")A.ctype==0||A.ctype==4?A.tabs[b]=[C(c,u)]:A.ctype==2||A.ctype==6?A.tabs[b]=[C(c,u),C(c,u+2),C(c,u+4)]:A.ctype==3&&(A.tabs[b]=c[u]);else if(b=="IEND")break;u+=M,w.readUint(c,u),u+=4}var x;return U!=0&&((x=A.frames[A.frames.length-1]).data=a(A,k.slice(0,U),x.rect.width,x.rect.height)),A.data=a(A,P,A.width,A.height),delete A.compress,delete A.interlace,delete A.filter,A},toRGBA8:function(s){const c=s.width,u=s.height;if(s.tabs.acTL==null)return[t(s.data,c,u,s).buffer];const w=[];s.frames[0].data==null&&(s.frames[0].data=s.data);const C=c*u*4,T=new Uint8Array(C),A=new Uint8Array(C),P=new Uint8Array(C);for(let O=0;O<s.frames.length;O++){const U=s.frames[O],m=U.rect.x,I=U.rect.y,g=U.rect.width,d=U.rect.height,y=t(U.data,g,d,s);if(O!=0)for(var k=0;k<C;k++)P[k]=T[k];if(U.blend==0?p(y,g,d,T,c,u,m,I,0):U.blend==1&&p(y,g,d,T,c,u,m,I,1),w.push(T.buffer.slice(0)),U.dispose!=0){if(U.dispose==1)p(A,g,d,T,c,u,m,I,0);else if(U.dispose==2)for(k=0;k<C;k++)T[k]=P[k]}}return w},_paeth:h,_copyTile:p,_bin:n}}();(function(){const{_copyTile:n}=_e,{_bin:t}=_e,a=_e._paeth;var e={table:function(){const g=new Uint32Array(256);for(let d=0;d<256;d++){let y=d;for(let D=0;D<8;D++)1&y?y=3988292384^y>>>1:y>>>=1;g[d]=y}return g}(),update(g,d,y,D){for(let E=0;E<D;E++)g=e.table[255&(g^d[y+E])]^g>>>8;return g},crc:(g,d,y)=>4294967295^e.update(4294967295,g,d,y)};function i(g,d,y,D){d[y]+=g[0]*D>>4,d[y+1]+=g[1]*D>>4,d[y+2]+=g[2]*D>>4,d[y+3]+=g[3]*D>>4}function r(g){return Math.max(0,Math.min(255,g))}function l(g,d){const y=g[0]-d[0],D=g[1]-d[1],E=g[2]-d[2],_=g[3]-d[3];return y*y+D*D+E*E+_*_}function h(g,d,y,D,E,_,x){x==null&&(x=1);const M=D.length,b=[];for(var v=0;v<M;v++){const R=D[v];b.push([R>>>0&255,R>>>8&255,R>>>16&255,R>>>24&255])}for(v=0;v<M;v++){let R=4294967295;for(var N=0,S=0;S<M;S++){var L=l(b[v],b[S]);S!=v&&L<R&&(R=L,N=S)}}const B=new Uint32Array(E.buffer),F=new Int16Array(d*y*4),H=[0,8,2,10,12,4,14,6,3,11,1,9,15,7,13,5];for(v=0;v<H.length;v++)H[v]=255*((H[v]+.5)/16-.5);for(let R=0;R<y;R++)for(let z=0;z<d;z++){var $;v=4*(R*d+z),x!=2?$=[r(g[v]+F[v]),r(g[v+1]+F[v+1]),r(g[v+2]+F[v+2]),r(g[v+3]+F[v+3])]:(L=H[4*(3&R)+(3&z)],$=[r(g[v]+L),r(g[v+1]+L),r(g[v+2]+L),r(g[v+3]+L)]),N=0;let K=16777215;for(S=0;S<M;S++){const Q=l($,b[S]);Q<K&&(K=Q,N=S)}const q=b[N],j=[$[0]-q[0],$[1]-q[1],$[2]-q[2],$[3]-q[3]];x==1&&(z!=d-1&&i(j,F,v+4,7),R!=y-1&&(z!=0&&i(j,F,v+4*d-4,3),i(j,F,v+4*d,5),z!=d-1&&i(j,F,v+4*d+4,1))),_[v>>2]=N,B[v>>2]=D[N]}}function f(g,d,y,D,E){E==null&&(E={});const{crc:_}=e,x=t.writeUint,M=t.writeUshort,b=t.writeASCII;let v=8;const N=g.frames.length>1;let S,L=!1,B=33+(N?20:0);if(E.sRGB!=null&&(B+=13),E.pHYs!=null&&(B+=21),E.iCCP!=null&&(S=pako.deflate(E.iCCP),B+=21+S.length+4),g.ctype==3){for(var F=g.plte.length,H=0;H<F;H++)g.plte[H]>>>24!=255&&(L=!0);B+=8+3*F+4+(L?8+1*F+4:0)}for(var $=0;$<g.frames.length;$++)N&&(B+=38),B+=(q=g.frames[$]).cimg.length+12,$!=0&&(B+=4);B+=12;const R=new Uint8Array(B),z=[137,80,78,71,13,10,26,10];for(H=0;H<8;H++)R[H]=z[H];if(x(R,v,13),v+=4,b(R,v,"IHDR"),v+=4,x(R,v,d),v+=4,x(R,v,y),v+=4,R[v]=g.depth,v++,R[v]=g.ctype,v++,R[v]=0,v++,R[v]=0,v++,R[v]=0,v++,x(R,v,_(R,v-17,17)),v+=4,E.sRGB!=null&&(x(R,v,1),v+=4,b(R,v,"sRGB"),v+=4,R[v]=E.sRGB,v++,x(R,v,_(R,v-5,5)),v+=4),E.iCCP!=null){const j=13+S.length;x(R,v,j),v+=4,b(R,v,"iCCP"),v+=4,b(R,v,"ICC profile"),v+=11,v+=2,R.set(S,v),v+=S.length,x(R,v,_(R,v-(j+4),j+4)),v+=4}if(E.pHYs!=null&&(x(R,v,9),v+=4,b(R,v,"pHYs"),v+=4,x(R,v,E.pHYs[0]),v+=4,x(R,v,E.pHYs[1]),v+=4,R[v]=E.pHYs[2],v++,x(R,v,_(R,v-13,13)),v+=4),N&&(x(R,v,8),v+=4,b(R,v,"acTL"),v+=4,x(R,v,g.frames.length),v+=4,x(R,v,E.loop!=null?E.loop:0),v+=4,x(R,v,_(R,v-12,12)),v+=4),g.ctype==3){for(x(R,v,3*(F=g.plte.length)),v+=4,b(R,v,"PLTE"),v+=4,H=0;H<F;H++){const j=3*H,Q=g.plte[H],ie=255&Q,le=Q>>>8&255,We=Q>>>16&255;R[v+j+0]=ie,R[v+j+1]=le,R[v+j+2]=We}if(v+=3*F,x(R,v,_(R,v-3*F-4,3*F+4)),v+=4,L){for(x(R,v,F),v+=4,b(R,v,"tRNS"),v+=4,H=0;H<F;H++)R[v+H]=g.plte[H]>>>24&255;v+=F,x(R,v,_(R,v-F-4,F+4)),v+=4}}let K=0;for($=0;$<g.frames.length;$++){var q=g.frames[$];N&&(x(R,v,26),v+=4,b(R,v,"fcTL"),v+=4,x(R,v,K++),v+=4,x(R,v,q.rect.width),v+=4,x(R,v,q.rect.height),v+=4,x(R,v,q.rect.x),v+=4,x(R,v,q.rect.y),v+=4,M(R,v,D[$]),v+=2,M(R,v,1e3),v+=2,R[v]=q.dispose,v++,R[v]=q.blend,v++,x(R,v,_(R,v-30,30)),v+=4);const j=q.cimg;x(R,v,(F=j.length)+($==0?0:4)),v+=4;const Q=v;b(R,v,$==0?"IDAT":"fdAT"),v+=4,$!=0&&(x(R,v,K++),v+=4),R.set(j,v),v+=F,x(R,v,_(R,Q,v-Q)),v+=4}return x(R,v,0),v+=4,b(R,v,"IEND"),v+=4,x(R,v,_(R,v-4,4)),v+=4,R.buffer}function p(g,d,y){for(let D=0;D<g.frames.length;D++){const E=g.frames[D];E.rect.width;const _=E.rect.height,x=new Uint8Array(_*E.bpl+_);E.cimg=u(E.img,_,E.bpp,E.bpl,x,d,y)}}function o(g,d,y,D,E){const _=E[0],x=E[1],M=E[2],b=E[3],v=E[4],N=E[5];let S=6,L=8,B=255;for(var F=0;F<g.length;F++){const fe=new Uint8Array(g[F]);for(var H=fe.length,$=0;$<H;$+=4)B&=fe[$+3]}const R=B!=255,z=function(J,G,he,ge,ae,ye){const oe=[];for(var Z=0;Z<J.length;Z++){const pe=new Uint8Array(J[Z]),Ce=new Uint32Array(pe.buffer);var xe;let Ae=0,Pe=0,Ie=G,Ye=he,Nt=ge?1:0;if(Z!=0){const Oi=ye||ge||Z==1||oe[Z-2].dispose!=0?1:2;let Lt=0,yr=1e9;for(let ct=0;ct<Oi;ct++){var Ue=new Uint8Array(J[Z-1-ct]);const ki=new Uint32Array(J[Z-1-ct]);let Ne=G,Le=he,et=-1,ht=-1;for(let je=0;je<he;je++)for(let qe=0;qe<G;qe++)Ce[ue=je*G+qe]!=ki[ue]&&(qe<Ne&&(Ne=qe),qe>et&&(et=qe),je<Le&&(Le=je),je>ht&&(ht=je));et==-1&&(Ne=Le=et=ht=0),ae&&((1&Ne)==1&&Ne--,(1&Le)==1&&Le--);const xr=(et-Ne+1)*(ht-Le+1);xr<yr&&(yr=xr,Lt=ct,Ae=Ne,Pe=Le,Ie=et-Ne+1,Ye=ht-Le+1)}Ue=new Uint8Array(J[Z-1-Lt]),Lt==1&&(oe[Z-1].dispose=2),xe=new Uint8Array(Ie*Ye*4),n(Ue,G,he,xe,Ie,Ye,-Ae,-Pe,0),Nt=n(pe,G,he,xe,Ie,Ye,-Ae,-Pe,3)?1:0,Nt==1?c(pe,G,he,xe,{x:Ae,y:Pe,width:Ie,height:Ye}):n(pe,G,he,xe,Ie,Ye,-Ae,-Pe,0)}else xe=pe.slice(0);oe.push({rect:{x:Ae,y:Pe,width:Ie,height:Ye},img:xe,blend:Nt,dispose:0})}if(ge)for(Z=0;Z<oe.length;Z++){if((Xe=oe[Z]).blend==1)continue;const pe=Xe.rect,Ce=oe[Z-1].rect,Ae=Math.min(pe.x,Ce.x),Pe=Math.min(pe.y,Ce.y),Ie={x:Ae,y:Pe,width:Math.max(pe.x+pe.width,Ce.x+Ce.width)-Ae,height:Math.max(pe.y+pe.height,Ce.y+Ce.height)-Pe};oe[Z-1].dispose=1,Z-1!=0&&s(J,G,he,oe,Z-1,Ie,ae),s(J,G,he,oe,Z,Ie,ae)}let xt=0;if(J.length!=1)for(var ue=0;ue<oe.length;ue++){var Xe;xt+=(Xe=oe[ue]).rect.width*Xe.rect.height}return oe}(g,d,y,_,x,M),K={},q=[],j=[];if(D!=0){const fe=[];for($=0;$<z.length;$++)fe.push(z[$].img.buffer);const J=function(ae){let ye=0;for(var oe=0;oe<ae.length;oe++)ye+=ae[oe].byteLength;const Z=new Uint8Array(ye);let xe=0;for(oe=0;oe<ae.length;oe++){const Ue=new Uint8Array(ae[oe]),xt=Ue.length;for(let ue=0;ue<xt;ue+=4){let Xe=Ue[ue],pe=Ue[ue+1],Ce=Ue[ue+2];const Ae=Ue[ue+3];Ae==0&&(Xe=pe=Ce=0),Z[xe+ue]=Xe,Z[xe+ue+1]=pe,Z[xe+ue+2]=Ce,Z[xe+ue+3]=Ae}xe+=xt}return Z.buffer}(fe),G=C(J,D);for($=0;$<G.plte.length;$++)q.push(G.plte[$].est.rgba);let he=0;for($=0;$<z.length;$++){const ge=(ie=z[$]).img.length;var Q=new Uint8Array(G.inds.buffer,he>>2,ge>>2);j.push(Q);const ae=new Uint8Array(G.abuf,he,ge);N&&h(ie.img,ie.rect.width,ie.rect.height,q,ae,Q),ie.img.set(ae),he+=ge}}else for(F=0;F<z.length;F++){var ie=z[F];const fe=new Uint32Array(ie.img.buffer);var le=ie.rect.width;for(H=fe.length,Q=new Uint8Array(H),j.push(Q),$=0;$<H;$++){const J=fe[$];if($!=0&&J==fe[$-1])Q[$]=Q[$-1];else if($>le&&J==fe[$-le])Q[$]=Q[$-le];else{let G=K[J];if(G==null&&(K[J]=G=q.length,q.push(J),q.length>=300))break;Q[$]=G}}}const We=q.length;for(We<=256&&v==0&&(L=We<=2?1:We<=4?2:We<=16?4:8,L=Math.max(L,b)),F=0;F<z.length;F++){(ie=z[F]).rect.x,ie.rect.y,le=ie.rect.width;const fe=ie.rect.height;let J=ie.img;new Uint32Array(J.buffer);let G=4*le,he=4;if(We<=256&&v==0){G=Math.ceil(L*le/8);var Te=new Uint8Array(G*fe);const ge=j[F];for(let ae=0;ae<fe;ae++){$=ae*G;const ye=ae*le;if(L==8)for(var re=0;re<le;re++)Te[$+re]=ge[ye+re];else if(L==4)for(re=0;re<le;re++)Te[$+(re>>1)]|=ge[ye+re]<<4-4*(1&re);else if(L==2)for(re=0;re<le;re++)Te[$+(re>>2)]|=ge[ye+re]<<6-2*(3&re);else if(L==1)for(re=0;re<le;re++)Te[$+(re>>3)]|=ge[ye+re]<<7-1*(7&re)}J=Te,S=3,he=1}else if(R==0&&z.length==1){Te=new Uint8Array(le*fe*3);const ge=le*fe;for($=0;$<ge;$++){const ae=3*$,ye=4*$;Te[ae]=J[ye],Te[ae+1]=J[ye+1],Te[ae+2]=J[ye+2]}J=Te,S=2,he=3,G=3*le}ie.img=J,ie.bpl=G,ie.bpp=he}return{ctype:S,depth:L,plte:q,frames:z}}function s(g,d,y,D,E,_,x){const M=Uint8Array,b=Uint32Array,v=new M(g[E-1]),N=new b(g[E-1]),S=E+1<g.length?new M(g[E+1]):null,L=new M(g[E]),B=new b(L.buffer);let F=d,H=y,$=-1,R=-1;for(let K=0;K<_.height;K++)for(let q=0;q<_.width;q++){const j=_.x+q,Q=_.y+K,ie=Q*d+j,le=B[ie];le==0||D[E-1].dispose==0&&N[ie]==le&&(S==null||S[4*ie+3]!=0)||(j<F&&(F=j),j>$&&($=j),Q<H&&(H=Q),Q>R&&(R=Q))}$==-1&&(F=H=$=R=0),x&&((1&F)==1&&F--,(1&H)==1&&H--),_={x:F,y:H,width:$-F+1,height:R-H+1};const z=D[E];z.rect=_,z.blend=1,z.img=new Uint8Array(_.width*_.height*4),D[E-1].dispose==0?(n(v,d,y,z.img,_.width,_.height,-_.x,-_.y,0),c(L,d,y,z.img,_)):n(L,d,y,z.img,_.width,_.height,-_.x,-_.y,0)}function c(g,d,y,D,E){n(g,d,y,D,E.width,E.height,-E.x,-E.y,2)}function u(g,d,y,D,E,_,x){const M=[];let b,v=[0,1,2,3,4];_!=-1?v=[_]:(d*D>5e5||y==1)&&(v=[0]),x&&(b={level:0});const N=ka;for(var S=0;S<v.length;S++){for(let F=0;F<d;F++)w(E,g,F,D,y,v[S]);M.push(N.deflate(E,b))}let L,B=1e9;for(S=0;S<M.length;S++)M[S].length<B&&(L=S,B=M[S].length);return M[L]}function w(g,d,y,D,E,_){const x=y*D;let M=x+y;if(g[M]=_,M++,_==0)if(D<500)for(var b=0;b<D;b++)g[M+b]=d[x+b];else g.set(new Uint8Array(d.buffer,x,D),M);else if(_==1){for(b=0;b<E;b++)g[M+b]=d[x+b];for(b=E;b<D;b++)g[M+b]=d[x+b]-d[x+b-E]+256&255}else if(y==0){for(b=0;b<E;b++)g[M+b]=d[x+b];if(_==2)for(b=E;b<D;b++)g[M+b]=d[x+b];if(_==3)for(b=E;b<D;b++)g[M+b]=d[x+b]-(d[x+b-E]>>1)+256&255;if(_==4)for(b=E;b<D;b++)g[M+b]=d[x+b]-a(d[x+b-E],0,0)+256&255}else{if(_==2)for(b=0;b<D;b++)g[M+b]=d[x+b]+256-d[x+b-D]&255;if(_==3){for(b=0;b<E;b++)g[M+b]=d[x+b]+256-(d[x+b-D]>>1)&255;for(b=E;b<D;b++)g[M+b]=d[x+b]+256-(d[x+b-D]+d[x+b-E]>>1)&255}if(_==4){for(b=0;b<E;b++)g[M+b]=d[x+b]+256-a(0,d[x+b-D],0)&255;for(b=E;b<D;b++)g[M+b]=d[x+b]+256-a(d[x+b-E],d[x+b-D],d[x+b-E-D])&255}}}function C(g,d){const y=new Uint8Array(g),D=y.slice(0),E=new Uint32Array(D.buffer),_=T(D,d),x=_[0],M=_[1],b=y.length,v=new Uint8Array(b>>2);let N;if(y.length<2e7)for(var S=0;S<b;S+=4)N=A(x,L=y[S]*(1/255),B=y[S+1]*(1/255),F=y[S+2]*(1/255),H=y[S+3]*(1/255)),v[S>>2]=N.ind,E[S>>2]=N.est.rgba;else for(S=0;S<b;S+=4){var L=y[S]*.00392156862745098,B=y[S+1]*(1/255),F=y[S+2]*(1/255),H=y[S+3]*(1/255);for(N=x;N.left;)N=P(N.est,L,B,F,H)<=0?N.left:N.right;v[S>>2]=N.ind,E[S>>2]=N.est.rgba}return{abuf:D.buffer,inds:v,plte:M}}function T(g,d,y){y==null&&(y=1e-4);const D=new Uint32Array(g.buffer),E={i0:0,i1:g.length,bst:null,est:null,tdst:0,left:null,right:null};E.bst=U(g,E.i0,E.i1),E.est=m(E.bst);const _=[E];for(;_.length<d;){let M=0,b=0;for(var x=0;x<_.length;x++)_[x].est.L>M&&(M=_[x].est.L,b=x);if(M<y)break;const v=_[b],N=k(g,D,v.i0,v.i1,v.est.e,v.est.eMq255);if(v.i0>=N||v.i1<=N){v.est.L=0;continue}const S={i0:v.i0,i1:N,bst:null,est:null,tdst:0,left:null,right:null};S.bst=U(g,S.i0,S.i1),S.est=m(S.bst);const L={i0:N,i1:v.i1,bst:null,est:null,tdst:0,left:null,right:null};for(L.bst={R:[],m:[],N:v.bst.N-S.bst.N},x=0;x<16;x++)L.bst.R[x]=v.bst.R[x]-S.bst.R[x];for(x=0;x<4;x++)L.bst.m[x]=v.bst.m[x]-S.bst.m[x];L.est=m(L.bst),v.left=S,v.right=L,_[b]=S,_.push(L)}for(_.sort((M,b)=>b.bst.N-M.bst.N),x=0;x<_.length;x++)_[x].ind=x;return[E,_]}function A(g,d,y,D,E){if(g.left==null)return g.tdst=function(S,L,B,F,H){const $=L-S[0],R=B-S[1],z=F-S[2],K=H-S[3];return $*$+R*R+z*z+K*K}(g.est.q,d,y,D,E),g;const _=P(g.est,d,y,D,E);let x=g.left,M=g.right;_>0&&(x=g.right,M=g.left);const b=A(x,d,y,D,E);if(b.tdst<=_*_)return b;const v=A(M,d,y,D,E);return v.tdst<b.tdst?v:b}function P(g,d,y,D,E){const{e:_}=g;return _[0]*d+_[1]*y+_[2]*D+_[3]*E-g.eMq}function k(g,d,y,D,E,_){for(D-=4;y<D;){for(;O(g,y,E)<=_;)y+=4;for(;O(g,D,E)>_;)D-=4;if(y>=D)break;const x=d[y>>2];d[y>>2]=d[D>>2],d[D>>2]=x,y+=4,D-=4}for(;O(g,y,E)>_;)y-=4;return y+4}function O(g,d,y){return g[d]*y[0]+g[d+1]*y[1]+g[d+2]*y[2]+g[d+3]*y[3]}function U(g,d,y){const D=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],E=[0,0,0,0],_=y-d>>2;for(let x=d;x<y;x+=4){const M=g[x]*.00392156862745098,b=g[x+1]*(1/255),v=g[x+2]*(1/255),N=g[x+3]*(1/255);E[0]+=M,E[1]+=b,E[2]+=v,E[3]+=N,D[0]+=M*M,D[1]+=M*b,D[2]+=M*v,D[3]+=M*N,D[5]+=b*b,D[6]+=b*v,D[7]+=b*N,D[10]+=v*v,D[11]+=v*N,D[15]+=N*N}return D[4]=D[1],D[8]=D[2],D[9]=D[6],D[12]=D[3],D[13]=D[7],D[14]=D[11],{R:D,m:E,N:_}}function m(g){const{R:d}=g,{m:y}=g,{N:D}=g,E=y[0],_=y[1],x=y[2],M=y[3],b=D==0?0:1/D,v=[d[0]-E*E*b,d[1]-E*_*b,d[2]-E*x*b,d[3]-E*M*b,d[4]-_*E*b,d[5]-_*_*b,d[6]-_*x*b,d[7]-_*M*b,d[8]-x*E*b,d[9]-x*_*b,d[10]-x*x*b,d[11]-x*M*b,d[12]-M*E*b,d[13]-M*_*b,d[14]-M*x*b,d[15]-M*M*b],N=v,S=I;let L=[Math.random(),Math.random(),Math.random(),Math.random()],B=0,F=0;if(D!=0)for(let $=0;$<16&&(L=S.multVec(N,L),F=Math.sqrt(S.dot(L,L)),L=S.sml(1/F,L),!($!=0&&Math.abs(F-B)<1e-9));$++)B=F;const H=[E*b,_*b,x*b,M*b];return{Cov:v,q:H,e:L,L:B,eMq255:S.dot(S.sml(255,H),L),eMq:S.dot(L,H),rgba:(Math.round(255*H[3])<<24|Math.round(255*H[2])<<16|Math.round(255*H[1])<<8|Math.round(255*H[0])<<0)>>>0}}var I={multVec:(g,d)=>[g[0]*d[0]+g[1]*d[1]+g[2]*d[2]+g[3]*d[3],g[4]*d[0]+g[5]*d[1]+g[6]*d[2]+g[7]*d[3],g[8]*d[0]+g[9]*d[1]+g[10]*d[2]+g[11]*d[3],g[12]*d[0]+g[13]*d[1]+g[14]*d[2]+g[15]*d[3]],dot:(g,d)=>g[0]*d[0]+g[1]*d[1]+g[2]*d[2]+g[3]*d[3],sml:(g,d)=>[g*d[0],g*d[1],g*d[2],g*d[3]]};_e.encode=function(d,y,D,E,_,x,M){E==null&&(E=0),M==null&&(M=!1);const b=o(d,y,D,E,[!1,!1,!1,0,M,!1]);return p(b,-1),f(b,y,D,_,x)},_e.encodeLL=function(d,y,D,E,_,x,M,b){const v={ctype:0+(E==1?0:2)+(_==0?0:4),depth:x,frames:[]},N=(E+_)*x,S=N*y;for(let L=0;L<d.length;L++)v.frames.push({rect:{x:0,y:0,width:y,height:D},img:new Uint8Array(d[L]),blend:0,dispose:1,bpp:Math.ceil(N/8),bpl:Math.ceil(S/8)});return p(v,0,!0),f(v,y,D,M,b)},_e.encode.compress=o,_e.encode.dither=h,_e.quantize=C,_e.quantize.getKDtree=T,_e.quantize.getNearest=A})();const xi={toArrayBuffer(n,t){const a=n.width,e=n.height,i=a<<2,r=n.getContext("2d").getImageData(0,0,a,e),l=new Uint32Array(r.data.buffer),h=(32*a+31)/32<<2,f=h*e,p=122+f,o=new ArrayBuffer(p),s=new DataView(o),c=1<<20;let u,w,C,T,A=c,P=0,k=0,O=0;function U(g){s.setUint16(k,g,!0),k+=2}function m(g){s.setUint32(k,g,!0),k+=4}function I(g){k+=g}U(19778),m(p),I(4),m(122),m(108),m(a),m(-e>>>0),U(1),U(32),m(3),m(f),m(2835),m(2835),I(8),m(16711680),m(65280),m(255),m(4278190080),m(1466527264),function g(){for(;P<e&&A>0;){for(T=122+P*h,u=0;u<i;)A--,w=l[O++],C=w>>>24,s.setUint32(T+u,w<<8|C),u+=4;P++}O<l.length?(A=c,setTimeout(g,xi._dly)):t(o)}()},toBlob(n,t){this.toArrayBuffer(n,a=>{t(new Blob([a],{type:"image/bmp"}))})},_dly:9};var we={CHROME:"CHROME",FIREFOX:"FIREFOX",DESKTOP_SAFARI:"DESKTOP_SAFARI",IE:"IE",IOS:"IOS",ETC:"ETC"},Ra={[we.CHROME]:16384,[we.FIREFOX]:11180,[we.DESKTOP_SAFARI]:16384,[we.IE]:8192,[we.IOS]:4096,[we.ETC]:8192};const br=typeof window<"u",Ai=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope,St=br&&window.cordova&&window.cordova.require&&window.cordova.require("cordova/modulemapper"),Pa=(br||Ai)&&(St&&St.getOriginalSymbol(window,"File")||typeof File<"u"&&File),Ei=(br||Ai)&&(St&&St.getOriginalSymbol(window,"FileReader")||typeof FileReader<"u"&&FileReader);function wr(n,t,a=Date.now()){return new Promise(e=>{const i=n.split(","),r=i[0].match(/:(.*?);/)[1],l=globalThis.atob(i[1]);let h=l.length;const f=new Uint8Array(h);for(;h--;)f[h]=l.charCodeAt(h);const p=new Blob([f],{type:r});p.name=t,p.lastModified=a,e(p)})}function Di(n){return new Promise((t,a)=>{const e=new Ei;e.onload=()=>t(e.result),e.onerror=i=>a(i),e.readAsDataURL(n)})}function Ci(n){return new Promise((t,a)=>{const e=new Image;e.onload=()=>t(e),e.onerror=i=>a(i),e.src=n})}function Ke(){if(Ke.cachedResult!==void 0)return Ke.cachedResult;let n=we.ETC;const{userAgent:t}=navigator;return/Chrom(e|ium)/i.test(t)?n=we.CHROME:/iP(ad|od|hone)/i.test(t)&&/WebKit/i.test(t)?n=we.IOS:/Safari/i.test(t)?n=we.DESKTOP_SAFARI:/Firefox/i.test(t)?n=we.FIREFOX:(/MSIE/i.test(t)||document.documentMode)&&(n=we.IE),Ke.cachedResult=n,Ke.cachedResult}function Mi(n,t){const a=Ke(),e=Ra[a];let i=n,r=t,l=i*r;const h=i>r?r/i:i/r;for(;l>e*e;){const f=(e+i)/2,p=(e+r)/2;f<p?(r=p,i=p*h):(r=f*h,i=f),l=i*r}return{width:i,height:r}}function Ut(n,t){let a,e;try{if(a=new OffscreenCanvas(n,t),e=a.getContext("2d"),e===null)throw new Error("getContext of OffscreenCanvas returns null")}catch{a=document.createElement("canvas"),e=a.getContext("2d")}return a.width=n,a.height=t,[a,e]}function _i(n,t){const{width:a,height:e}=Mi(n.width,n.height),[i,r]=Ut(a,e);return t&&/jpe?g/.test(t)&&(r.fillStyle="white",r.fillRect(0,0,i.width,i.height)),r.drawImage(n,0,0,i.width,i.height),i}function Ct(){return Ct.cachedResult!==void 0||(Ct.cachedResult=["iPad Simulator","iPhone Simulator","iPod Simulator","iPad","iPhone","iPod"].includes(navigator.platform)||navigator.userAgent.includes("Mac")&&typeof document<"u"&&"ontouchend"in document),Ct.cachedResult}function Ot(n,t={}){return new Promise(function(a,e){let i,r;var l=function(){try{return r=_i(i,t.fileType||n.type),a([i,r])}catch(f){return e(f)}},h=function(f){try{var p=function(o){try{throw o}catch(s){return e(s)}};try{let o;return Di(n).then(function(s){try{return o=s,Ci(o).then(function(c){try{return i=c,function(){try{return l()}catch(u){return e(u)}}()}catch(u){return p(u)}},p)}catch(c){return p(c)}},p)}catch(o){p(o)}}catch(o){return e(o)}};try{if(Ct()||[we.DESKTOP_SAFARI,we.MOBILE_SAFARI].includes(Ke()))throw new Error("Skip createImageBitmap on IOS and Safari");return createImageBitmap(n).then(function(f){try{return i=f,l()}catch{return h()}},h)}catch{h()}})}function kt(n,t,a,e,i=1){return new Promise(function(r,l){let h;if(t==="image/png"){let p,o,s;return p=n.getContext("2d"),{data:o}=p.getImageData(0,0,n.width,n.height),s=_e.encode([o.buffer],n.width,n.height,4096*i),h=new Blob([s],{type:t}),h.name=a,h.lastModified=e,f.call(this)}{let p=function(){return f.call(this)};if(t==="image/bmp")return new Promise(o=>xi.toBlob(n,o)).then(function(o){try{return h=o,h.name=a,h.lastModified=e,p.call(this)}catch(s){return l(s)}}.bind(this),l);{let o=function(){return p.call(this)};if(typeof OffscreenCanvas=="function"&&n instanceof OffscreenCanvas)return n.convertToBlob({type:t,quality:i}).then(function(s){try{return h=s,h.name=a,h.lastModified=e,o.call(this)}catch(c){return l(c)}}.bind(this),l);{let s;return s=n.toDataURL(t,i),wr(s,a,e).then(function(c){try{return h=c,o.call(this)}catch(u){return l(u)}}.bind(this),l)}}}function f(){return r(h)}})}function Se(n){n.width=0,n.height=0}function nt(){return new Promise(function(n,t){let a,e,i,r;return nt.cachedResult!==void 0?n(nt.cachedResult):wr("data:image/jpeg;base64,/9j/4QAiRXhpZgAATU0AKgAAAAgAAQESAAMAAAABAAYAAAAAAAD/2wCEAAEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAf/AABEIAAEAAgMBEQACEQEDEQH/xABKAAEAAAAAAAAAAAAAAAAAAAALEAEAAAAAAAAAAAAAAAAAAAAAAQEAAAAAAAAAAAAAAAAAAAAAEQEAAAAAAAAAAAAAAAAAAAAA/9oADAMBAAIRAxEAPwA/8H//2Q==","test.jpg",Date.now()).then(function(l){try{return a=l,Ot(a).then(function(h){try{return e=h[1],kt(e,a.type,a.name,a.lastModified).then(function(f){try{return i=f,Se(e),Ot(i).then(function(p){try{return r=p[0],nt.cachedResult=r.width===1&&r.height===2,n(nt.cachedResult)}catch(o){return t(o)}},t)}catch(p){return t(p)}},t)}catch(f){return t(f)}},t)}catch(h){return t(h)}},t)})}function Ti(n){return new Promise((t,a)=>{const e=new Ei;e.onload=i=>{const r=new DataView(i.target.result);if(r.getUint16(0,!1)!=65496)return t(-2);const l=r.byteLength;let h=2;for(;h<l;){if(r.getUint16(h+2,!1)<=8)return t(-1);const f=r.getUint16(h,!1);if(h+=2,f==65505){if(r.getUint32(h+=2,!1)!=1165519206)return t(-1);const p=r.getUint16(h+=6,!1)==18761;h+=r.getUint32(h+4,p);const o=r.getUint16(h,p);h+=2;for(let s=0;s<o;s++)if(r.getUint16(h+12*s,p)==274)return t(r.getUint16(h+12*s+8,p))}else{if((65280&f)!=65280)break;h+=r.getUint16(h,!1)}}return t(-1)},e.onerror=i=>a(i),e.readAsArrayBuffer(n)})}function Ii(n,t){const{width:a}=n,{height:e}=n,{maxWidthOrHeight:i}=t;let r,l=n;return isFinite(i)&&(a>i||e>i)&&([l,r]=Ut(a,e),a>e?(l.width=i,l.height=e/a*i):(l.width=a/e*i,l.height=i),r.drawImage(n,0,0,l.width,l.height),Se(n)),l}function Si(n,t){const{width:a}=n,{height:e}=n,[i,r]=Ut(a,e);switch(t>4&&t<9?(i.width=e,i.height=a):(i.width=a,i.height=e),t){case 2:r.transform(-1,0,0,1,a,0);break;case 3:r.transform(-1,0,0,-1,a,e);break;case 4:r.transform(1,0,0,-1,0,e);break;case 5:r.transform(0,1,1,0,0,0);break;case 6:r.transform(0,1,-1,0,e,0);break;case 7:r.transform(0,-1,-1,0,e,a);break;case 8:r.transform(0,-1,1,0,0,a)}return r.drawImage(n,0,0,a,e),Se(n),i}function Wr(n,t,a=0){return new Promise(function(e,i){let r,l,h,f,p,o,s,c,u,w,C,T,A,P,k,O,U,m,I,g;function d(D=5){if(t.signal&&t.signal.aborted)throw t.signal.reason;r+=D,t.onProgress(Math.min(r,100))}function y(D){if(t.signal&&t.signal.aborted)throw t.signal.reason;r=Math.min(Math.max(D,r),100),t.onProgress(r)}return r=a,l=t.maxIteration||10,h=1024*t.maxSizeMB*1024,d(),Ot(n,t).then(function(D){try{return[,f]=D,d(),p=Ii(f,t),d(),new Promise(function(E,_){var x;if(!(x=t.exifOrientation))return Ti(n).then(function(b){try{return x=b,M.call(this)}catch(v){return _(v)}}.bind(this),_);function M(){return E(x)}return M.call(this)}).then(function(E){try{return o=E,d(),nt().then(function(_){try{return s=_?p:Si(p,o),d(),c=t.initialQuality||1,u=t.fileType||n.type,kt(s,u,n.name,n.lastModified,c).then(function(x){try{{let b=function(){if(l--&&(k>h||k>A)){let N,S;return N=g?.95*I.width:I.width,S=g?.95*I.height:I.height,[U,m]=Ut(N,S),m.drawImage(I,0,0,N,S),c*=u==="image/png"?.85:.95,kt(U,u,n.name,n.lastModified,c).then(function(L){try{return O=L,Se(I),I=U,k=O.size,y(Math.min(99,Math.floor((P-k)/(P-h)*100))),b}catch(B){return i(B)}},i)}return[1]},v=function(){return Se(I),Se(U),Se(p),Se(s),Se(f),y(100),e(O)};if(w=x,d(),C=w.size>h,T=w.size>n.size,!C&&!T)return y(100),e(w);var M;return A=n.size,P=w.size,k=P,I=s,g=!t.alwaysKeepResolution&&C,(M=function(N){for(;N;){if(N.then)return void N.then(M,i);try{if(N.pop){if(N.length)return N.pop()?v.call(this):N;N=b}else N=N.call(this)}catch(S){return i(S)}}}.bind(this))(b)}}catch(b){return i(b)}}.bind(this),i)}catch(x){return i(x)}}.bind(this),i)}catch(_){return i(_)}}.bind(this),i)}catch(E){return i(E)}}.bind(this),i)})}const Ua=`
let scriptImported = false
self.addEventListener('message', async (e) => {
  const { file, id, imageCompressionLibUrl, options } = e.data
  options.onProgress = (progress) => self.postMessage({ progress, id })
  try {
    if (!scriptImported) {
      // console.log('[worker] importScripts', imageCompressionLibUrl)
      self.importScripts(imageCompressionLibUrl)
      scriptImported = true
    }
    // console.log('[worker] self', self)
    const compressedFile = await imageCompression(file, options)
    self.postMessage({ file: compressedFile, id })
  } catch (e) {
    // console.error('[worker] error', e)
    self.postMessage({ error: e.message + '\\n' + e.stack, id })
  }
})
`;let Wt;function Na(n,t){return new Promise((a,e)=>{Wt||(Wt=function(l){const h=[];return h.push(l),URL.createObjectURL(new Blob(h))}(Ua));const i=new Worker(Wt);i.addEventListener("message",function(l){if(t.signal&&t.signal.aborted)i.terminate();else if(l.data.progress===void 0){if(l.data.error)return e(new Error(l.data.error)),void i.terminate();a(l.data.file),i.terminate()}else t.onProgress(l.data.progress)}),i.addEventListener("error",e),t.signal&&t.signal.addEventListener("abort",()=>{e(t.signal.reason),i.terminate()}),i.postMessage({file:n,imageCompressionLibUrl:t.libURL,options:{...t,onProgress:void 0,signal:void 0}})})}function de(n,t){return new Promise(function(a,e){let i,r,l,h,f,p;if(i={...t},l=0,{onProgress:h}=i,i.maxSizeMB=i.maxSizeMB||Number.POSITIVE_INFINITY,f=typeof i.useWebWorker!="boolean"||i.useWebWorker,delete i.useWebWorker,i.onProgress=u=>{l=u,typeof h=="function"&&h(l)},!(n instanceof Blob||n instanceof Pa))return e(new Error("The file given is not an instance of Blob or File"));if(!/^image/.test(n.type))return e(new Error("The file given is not an image"));if(p=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope,!f||typeof Worker!="function"||p)return Wr(n,i).then(function(u){try{return r=u,c.call(this)}catch(w){return e(w)}}.bind(this),e);var o=function(){try{return c.call(this)}catch(u){return e(u)}}.bind(this),s=function(u){try{return Wr(n,i).then(function(w){try{return r=w,o()}catch(C){return e(C)}},e)}catch(w){return e(w)}};try{return i.libURL=i.libURL||"https://cdn.jsdelivr.net/npm/browser-image-compression@2.0.2/dist/browser-image-compression.js",Na(n,i).then(function(u){try{return r=u,o()}catch{return s()}},s)}catch{s()}function c(){try{r.name=n.name,r.lastModified=n.lastModified}catch{}try{i.preserveExif&&n.type==="image/jpeg"&&(!i.fileType||i.fileType&&i.fileType===n.type)&&(r=yi(n,r))}catch{}return a(r)}})}de.getDataUrlFromFile=Di,de.getFilefromDataUrl=wr,de.loadImage=Ci,de.drawImageInCanvas=_i,de.drawFileInCanvas=Ot,de.canvasToFile=kt,de.getExifOrientation=Ti,de.handleMaxWidthOrHeight=Ii,de.followExifOrientation=Si,de.cleanupCanvasMemory=Se,de.isAutoOrientationInBrowser=nt,de.approximateBelowMaximumCanvasSizeOfBrowser=Mi,de.copyExifWithoutOrientation=yi,de.getBrowserName=Ke,de.version="2.0.2";var La=V("<div>"),$a=V('<div class="grid grid-cols-1 md:grid-cols-3 gap-6"><div class="flex flex-col items-center p-5"><div class="w-32 h-32 rounded-full overflow-hidden bg-gray-100 dark:bg-gray-700 mb-5 flex items-center justify-center"></div><button type=button class="cursor-pointer flex items-center gap-2 border border-gray-300 dark:border-gray-600 hover:bg-gray-50 dark:hover:bg-gray-700 rounded-md px-3 py-2"><span class=dark:text-gray-200></span></button><div class="mt-7 text-center"><h3 class="text-lg font-medium dark:text-gray-200"></h3><p class="text-gray-500 dark:text-gray-400"></p></div></div><div class=md:col-span-2>'),Fa=V('<h2 class="text-xl font-semibold mb-4 dark:text-gray-200">'),Ha=V('<div class="mt-8 pt-6 border-t border-gray-200 dark:border-gray-700"><h3 class="text-lg font-medium text-red-600 mb-3"></h3><p class="text-gray-600 dark:text-gray-400 mb-4"></p><button type=button class="flex items-center gap-2 px-4 py-2 rounded-md bg-red-600 text-white hover:bg-red-700">'),Xr=V('<div class="p-3 flex flex-col gap-3">'),Ba=V('<img alt=Profile class="w-full h-full object-cover cursor-pointer">'),za=V('<div class=animate-pulse><div class="grid grid-cols-1 md:grid-cols-3 gap-6"><div class="flex flex-col items-center p-5"><div class="w-32 h-32 rounded-full bg-gray-300 dark:bg-gray-700 mb-5"></div><div class="w-32 h-8 bg-gray-300 dark:bg-gray-700 rounded-md"></div><div class="mt-7 text-center"><div class="w-24 h-5 bg-gray-300 dark:bg-gray-700 rounded mx-auto"></div><div class="w-40 h-4 bg-gray-300 dark:bg-gray-700 rounded mx-auto mt-2"></div></div></div><div class=md:col-span-2><div class=space-y-4><div class="h-12 bg-gray-300 dark:bg-gray-700 rounded"></div><div class="h-12 bg-gray-300 dark:bg-gray-700 rounded"></div><div class="h-12 bg-gray-300 dark:bg-gray-700 rounded"></div><div class="h-24 bg-gray-300 dark:bg-gray-700 rounded"></div><div class="w-32 h-10 bg-gray-300 dark:bg-gray-700 rounded">'),Wa=V('<div class=animate-pulse><div class="h-6 w-40 bg-gray-300 dark:bg-gray-700 rounded mb-4"></div><div class=space-y-4><div class="h-12 bg-gray-300 dark:bg-gray-700 rounded"></div><div class="h-12 bg-gray-300 dark:bg-gray-700 rounded"></div><div class="h-12 bg-gray-300 dark:bg-gray-700 rounded"></div><div class="w-32 h-10 bg-gray-300 dark:bg-gray-700 rounded">'),Xa=V('<div class="fixed inset-0 z-50 flex items-center justify-center bg-black bg-opacity-75 dark:bg-black dark:bg-opacity-90"><div class="relative max-w-4xl max-h-[90vh] overflow-hidden"><button class="absolute top-3 right-3 bg-white dark:bg-gray-800 text-gray-800 dark:text-white hover:bg-gray-200 dark:hover:bg-gray-700 rounded-full p-1"></button><img alt="Profile Preview"class="max-h-[85vh] max-w-full object-contain">');const qa=()=>{const[n]=Ui(),[t,a]=ne(null),[e,i]=ne(!1),[r,l]=ne(!1),[h,f]=ne(!1),[p,o]=ne(!1),[s,c]=ne(!1),[u,w]=ne(!1),C=Ni(),{isDarkMode:T}=Yr();qr(async()=>{a(ft.user)});const A=async d=>{d.currentPassword?l(!0):i(!0);try{const y=await $t.updateMember(ft.user.id,d);a(y.data),Ft.success(y.message||"Profile updated successfully")}finally{d.currentPassword?l(!1):i(!1)}},P=()=>({initialData:{name:t()?.name||"",email:t()?.email||"",phoneNumber:t()?.phoneNumber||"",address:t()?.address||""},fields:[{name:"name",label:n("profile.fullName"),icon:W(Er,{}),placeholder:n("profile.fullNamePlaceholder"),required:!0},{name:"email",label:n("profile.email"),type:"email",icon:W(Hi,{}),placeholder:n("profile.emailPlaceholder"),required:!0},{name:"phoneNumber",label:n("profile.phone"),icon:W(Bi,{}),placeholder:n("profile.phonePlaceholder")},{name:"address",label:n("profile.address"),textarea:!0,rows:3,placeholder:n("profile.addressPlaceholder")}],validate:d=>{const y={};return d.name?.trim()?d.name.trim().length>25&&(y.name=n("profile.name_exceeds")):y.name=n("profile.name_required"),d.email?.trim()?/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(d.email)||(y.email=n("profile.email_invalid")):y.email=n("profile.email_required"),y},onSubmit:A,loading:e(),submitText:n("profile.updateProfile"),loadingText:n("profile.updating")}),k=()=>({initialData:{currentPassword:"",newPassword:"",confirmPassword:""},fields:[{name:"currentPassword",label:n("profile.security.currentPassword"),type:"password",icon:W(Ht,{}),placeholder:n("profile.security.currentPasswordPlaceholder"),required:!0},{name:"newPassword",label:n("profile.security.newPassword"),type:"password",icon:W(Ht,{}),placeholder:n("profile.security.newPasswordPlaceholder"),required:!0},{name:"confirmPassword",label:n("profile.security.confirmPassword"),type:"password",icon:W(Ht,{}),placeholder:n("profile.security.confirmPasswordPlaceholder"),required:!0}],validate:d=>{const y={};return d.currentPassword||(y.currentPassword="Current password is required"),d.newPassword?d.newPassword.length<8&&(y.newPassword="Password must be at least 8 characters"):y.newPassword="New password is required",d.confirmPassword?d.newPassword!==d.confirmPassword&&(y.confirmPassword="Passwords do not match"):y.confirmPassword="Please confirm your password",y},onSubmit:A,loading:r(),submitText:n("profile.security.changePassword"),loadingText:n("profile.security.changingPassword")}),O=()=>{o(!0)},U=()=>{o(!1)},m=()=>{t().avatar&&w(!0)};async function I(d){c(!0);try{const D=await(await fetch(d.croppedImage)).blob(),E=await de(D,{maxSizeMB:1,maxWidthOrHeight:400,useWebWorker:!0}),_=new File([E],`${ft.user.id}_avatar.jpg`,{type:"image/jpeg"}),x=new FormData;x.append("avatar",_);const M=await $t.updateAvatar(ft.user.id,x);a(M.data),Xi("user",M.data),localStorage.setItem("user",JSON.stringify(M.data)),Ft.success(M.message||"Avatar updated successfully")}finally{c(!1),U()}}const g=async()=>{if((await zi.fire({title:n("profile.dangerZone.confirmDelete"),text:n("profile.dangerZone.confirmDeleteText"),icon:"warning",showCancelButton:!0,confirmButtonColor:"#d33",cancelButtonColor:"#3085d6",confirmButtonText:n("profile.dangerZone.confirmButtonText"),cancelButtonText:n("profile.dangerZone.cancelButtonText")})).isConfirmed){f(!0);try{const y=await $t.deleteMember(ft.user.id);Ft.success(y.message||"Account deleted successfully"),Wi().logout(),C("/auth/login",{replace:!0})}finally{f(!1)}}};return(()=>{var d=La();return X(d,W(Yi,{title:()=>n("profile.title")}),null),X(d,(()=>{var y=ve(()=>!!t());return()=>y()?(()=>{var D=Xr();return X(D,W(At,{class:"p-3 bg-gray-50 dark:bg-gray-800",get children(){var E=$a(),_=E.firstChild,x=_.firstChild,M=x.nextSibling,b=M.firstChild,v=M.nextSibling,N=v.firstChild,S=N.nextSibling,L=_.nextSibling;return X(x,(()=>{var B=ve(()=>!!t().avatar);return()=>B()?(()=>{var F=Ba();return F.$$click=m,Oe(()=>jt(F,"src",t().avatar)),F})():W(Er,{class:"text-gray-400 text-4xl"})})()),M.$$click=O,X(M,W(Li,{}),b),X(b,()=>n("profile.changePhoto")),X(N,()=>t().name||t().username),X(S,()=>t().email),X(L,W(Dr,De(P))),E}}),null),X(D,W(At,{class:"p-3 bg-gray-50 dark:bg-gray-800",get children(){return[(()=>{var E=Fa();return X(E,()=>n("profile.security.title")),E})(),W(Dr,De(k)),(()=>{var E=Ha(),_=E.firstChild,x=_.nextSibling,M=x.nextSibling;return X(_,()=>n("profile.dangerZone.title")),X(x,()=>n("profile.dangerZone.warning")),M.$$click=g,X(M,W($i,{}),null),X(M,(()=>{var b=ve(()=>!!h());return()=>b()?n("profile.dangerZone.processing"):n("profile.dangerZone.deleteAccount")})(),null),Oe(()=>M.disabled=h()),E})()]}}),null),D})():(()=>{var D=Xr();return X(D,W(At,{class:"p-3 bg-gray-50 dark:bg-gray-800",get children(){return za()}}),null),X(D,W(At,{class:"p-3 bg-gray-50 dark:bg-gray-800",get children(){return Wa()}}),null),D})()})(),null),X(d,W(Ta,{get title(){return n("profile.changePhoto")},isOpen:p,closeModal:U,openModal:()=>o(!0),saveImage:I,get loading(){return s()},defaultRatio:"1:1",hideRatioSelect:!0}),null),X(d,(()=>{var y=ve(()=>!!u());return()=>y()&&(()=>{var D=Xa(),E=D.firstChild,_=E.firstChild,x=_.nextSibling;return D.$$click=()=>w(!1),_.$$click=M=>{M.stopPropagation(),w(!1)},X(_,W(Fi,{size:5})),Oe(()=>jt(x,"src",t().avatar)),D})()})(),null),d})()};jr(["click"]);export{qa as default};
