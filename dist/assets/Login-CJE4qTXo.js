import{c as M,u as P,I as A,a as I,t as g,s as L,i as a,b as e,m as _,X as l,d as u,e as $,f as b,g as D,h as N}from"./index-Dgi8wYgQ.js";import{F as w,S as B,v as E,l as R}from"./Spinner-C5fwcexh.js";import{c as U,a as X}from"./authService-BoypurrR.js";import{l as q}from"./logo_cashierly-DxzG-zww.js";var z=g('<div class=space-y-5><div class="flex items-center justify-between"><div></div><div class=text-sm><a href=/auth/reset-password>'),G=g('<button type=submit><div class="flex items-center gap-2">'),H=g('<div class="text-center mt-4"><p> <a href=/auth/register>'),J=g('<div class="max-w-md w-full space-y-4"><div class=text-center><img alt="Cashierly Logo"class="mx-auto h-48">');const Z=()=>{const[n,f]=M(!1),k=P(),{login:S}=D(),[d]=A(),{isDarkMode:v}=I(),[Q,{Form:F,Field:y}]=U({validate:E(R)}),j=async i=>{f(!0);try{const m=await X.login(i);await S(m),k("/",{replace:!0});const p=d("login.successMessage");N.success(p)}finally{f(!1)}};return(()=>{var i=J(),m=i.firstChild,p=m.firstChild;return L(p,"src",q),a(i,e(F,{onSubmit:j,get class(){return K(v())},get children(){return[(()=>{var t=z(),r=t.firstChild,s=r.firstChild,c=s.nextSibling,x=c.firstChild;return a(t,e(y,{name:"userormail",children:(o,h)=>e(w,_(h,{get value(){return o.value},get error(){return o.error},get label(){return e(l,{key:"login.username"})},type:"text",get placeholder(){return d("login.usernamePlaceholder")}}))}),r),a(t,e(y,{name:"password",children:(o,h)=>e(w,_(h,{get value(){return o.value},get error(){return o.error},get label(){return e(l,{key:"login.password"})},type:"password",get placeholder(){return d("login.passwordPlaceholder")}}))}),r),u(x,C),a(x,e(l,{key:"login.forgotPassword"})),t})(),(()=>{var t=G(),r=t.firstChild;return u(t,O),a(r,(()=>{var s=$(()=>!!n());return()=>s()&&e(B,{})})(),null),a(r,(()=>{var s=$(()=>!!n());return()=>s()?e(l,{key:"login.signingIn"}):e(l,{key:"login.signIn"})})(),null),b(()=>t.disabled=n()),t})(),(()=>{var t=H(),r=t.firstChild,s=r.firstChild,c=s.nextSibling;return a(r,e(l,{key:"login.noAccount"}),s),u(c,C),a(c,e(l,{key:"login.signUp"})),b(()=>u(r,`text-sm ${v()?"text-gray-300":"text-gray-600"}`)),t})()]}}),null),i})()},K=n=>["mt-4 space-y-6",n?"bg-gray-800 text-white":"bg-white","p-8","rounded-2xl shadow-lg"].join(" "),O=["w-full flex justify-center","py-3 px-4 rounded-xl","shadow-sm text-sm font-medium","text-white btn-primary"].join(" "),C=["font-medium","text-blue-600","hover:text-blue-500"].join(" ");export{Z as default};
